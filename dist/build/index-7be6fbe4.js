import{S as t,i as n,s as e,e as l,a as c,b as i,c as r,d as o,h as s,l as u,f as d,t as a,j as m,k as p,m as f,o as g,p as h,n as b,g as v,r as x,q as y,v as $}from"./main.js";import{d as D,c as j}from"./store-c14ac07e.js";import{p as H}from"./fetch-16c0e0bb.js";function L(t,n,e){const l=t.slice();return l[11]=n[e],l}function k(t,n,e){const l=t.slice();return l[11]=n[e],l}function F(t){let n,e,a,m,f,h,b,v,x,y,$,D,j,H,L,k,F=t[2].img&&M(t),w=t[2].price&&T(t),C=t[2].body&&q(t),N=t[2].docs&&I(t),S=t[2].extra&&E(t);return{c(){n=l("div"),e=l("div"),F&&F.c(),a=c(),m=l("div"),w&&w.c(),f=c(),h=l("div"),b=l("div"),v=l("input"),x=c(),y=l("div"),$=l("button"),$.textContent="Lisää ostoskoriin",D=c(),C&&C.c(),j=c(),N&&N.c(),H=c(),S&&S.c(),i(e,"id","img"),i(v,"name","amount"),i(v,"type","number"),i(v,"min",t[3]),i(v,"step","1"),v.required=!0,i($,"class","w100"),i(h,"id","cartIt"),i(h,"class","border grid"),i(m,"id","productInfo"),i(n,"id","product"),i(n,"class","container double grid")},m(l,c){r(l,n,c),o(n,e),F&&F.m(e,null),o(n,a),o(n,m),w&&w.m(m,null),o(m,f),o(m,h),o(h,b),o(b,v),s(v,t[0]),o(h,x),o(h,y),o(y,$),o(m,D),C&&C.m(m,null),o(m,j),N&&N.m(m,null),o(m,H),S&&S.m(m,null),L||(k=[u(v,"input",t[7]),u($,"click",t[5])],L=!0)},p(t,n){t[2].img?F?F.p(t,n):(F=M(t),F.c(),F.m(e,null)):F&&(F.d(1),F=null),t[2].price?w?w.p(t,n):(w=T(t),w.c(),w.m(m,f)):w&&(w.d(1),w=null),8&n&&i(v,"min",t[3]),1&n&&p(v.value)!==t[0]&&s(v,t[0]),t[2].body?C?C.p(t,n):(C=q(t),C.c(),C.m(m,j)):C&&(C.d(1),C=null),t[2].docs?N?N.p(t,n):(N=I(t),N.c(),N.m(m,H)):N&&(N.d(1),N=null),t[2].extra?S?S.p(t,n):(S=E(t),S.c(),S.m(m,null)):S&&(S.d(1),S=null)},d(t){t&&d(n),F&&F.d(),w&&w.d(),C&&C.d(),N&&N.d(),S&&S.d(),L=!1,g(k)}}}function M(t){let n,e,s,u,a,m,p,f,g,h;return{c(){n=l("picture"),e=l("source"),u=c(),a=l("source"),p=c(),f=l("img"),i(e,"srcset",s=t[2].img[0][1]),i(e,"type","image/webp"),i(a,"srcset",m=t[2].img[0][0]),i(a,"type","image/jpeg"),f.src!==(g=t[2].img[0][0])&&i(f,"src",g),i(f,"alt",h=t[2].title),i(n,"class","block")},m(t,l){r(t,n,l),o(n,e),o(n,u),o(n,a),o(n,p),o(n,f)},p(t,n){4&n&&s!==(s=t[2].img[0][1])&&i(e,"srcset",s),4&n&&m!==(m=t[2].img[0][0])&&i(a,"srcset",m),4&n&&f.src!==(g=t[2].img[0][0])&&i(f,"src",g),4&n&&h!==(h=t[2].title)&&i(f,"alt",h)},d(t){t&&d(n)}}}function T(t){let n,e,s,u,p,f,g=t[1].toFixed(2)+"",h=t[0]>1&&w(t);return{c(){n=l("div"),e=a("Hinta: "),s=l("strong"),u=a(g),p=a(" €"),f=c(),h&&h.c(),i(n,"id","price")},m(t,l){r(t,n,l),o(n,e),o(n,s),o(s,u),o(s,p),o(n,f),h&&h.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?h?h.p(t,e):(h=w(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&d(n),h&&h.d()}}}function w(t){let n,e,i,s,u,p,f,g=t[4].toFixed(2)+"";return{c(){n=l("br"),e=c(),i=l("small"),s=a("Yhteensä: "),u=l("strong"),p=a(g),f=a(" €")},m(t,l){r(t,n,l),r(t,e,l),r(t,i,l),o(i,s),o(i,u),o(u,p),o(u,f)},p(t,n){16&n&&g!==(g=t[4].toFixed(2)+"")&&m(p,g)},d(t){t&&d(n),t&&d(e),t&&d(i)}}}function q(t){let n,e=t[2].body+"";return{c(){n=l("div"),i(n,"id","body")},m(t,l){r(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function I(t){let n,e,c=t[2].docs,s=[];for(let n=0;n<c.length;n+=1)s[n]=C(k(t,c,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();i(n,"id","docs")},m(t,l){r(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(c=t[2].docs,l=0;l<c.length;l+=1){const i=k(t,c,l);s[l]?s[l].p(i,n):(s[l]=C(i),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=c.length}},d(t){t&&d(n),f(s,t)}}}function C(t){let n,e,s,u,p,f=t[11].label+"";return{c(){n=l("li"),e=l("a"),s=a(f),p=c(),i(e,"href",u=t[11].value),i(e,"rel","nofollow")},m(t,l){r(t,n,l),o(n,e),o(e,s),o(n,p)},p(t,n){4&n&&f!==(f=t[11].label+"")&&m(s,f),4&n&&u!==(u=t[11].value)&&i(e,"href",u)},d(t){t&&d(n)}}}function E(t){let n,e,c=t[2].extra,s=[];for(let n=0;n<c.length;n+=1)s[n]=N(L(t,c,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();i(n,"id","extra")},m(t,l){r(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(c=t[2].extra,l=0;l<c.length;l+=1){const i=L(t,c,l);s[l]?s[l].p(i,n):(s[l]=N(i),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=c.length}},d(t){t&&d(n),f(s,t)}}}function N(t){let n,e=t[11].name+"";return{c(){n=l("li")},m(t,l){r(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[11].name+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function S(t){let n,e=t[2]&&F(t);return{c(){e&&e.c(),n=h()},m(t,l){e&&e.m(t,l),r(t,n,l)},p(t,[l]){t[2]?e?e.p(t,l):(e=F(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:b,o:b,d(t){e&&e.d(t),t&&d(n)}}}function Y(t,n,e){let l,c,i,r,o,s,u,d;return v(t,D,(t=>e(2,o=t))),v(t,x,(t=>e(8,s=t))),v(t,j,(t=>e(9,u=t))),v(t,y,(t=>e(6,d=t))),t.$$.update=()=>{var n;4&t.$$.dirty&&e(1,i=o.price),64&t.$$.dirty&&d.slug&&(n="path="+d.slug,H(n).then((t=>{D.set(t),o.amountDiscounts&&o.amountDiscounts[0]&&e(0,l=e(3,c=o.amountDiscounts[0].amount)),s()})).catch((t=>{console.log(t)}))),7&t.$$.dirty&&o&&l&&(o.amountDiscounts&&(e(1,i=o.price),o.amountDiscounts.forEach((function(t){t.amount<=l&&e(1,i=t.price)}))),e(4,r=i*l))},e(0,l=1),e(3,c=1),e(4,r=0),[l,i,o,c,r,function(){let t={id:o.id,title:o.title,price:o.price,price2:i,amount:l,total:r};o.amountDiscounts,$(j,u.price+=i,u),$(j,u.total+=r,u),$(j,u.amount+=l,u),u.products.push(t)},d,function(){l=p(this.value),e(0,l)}]}export default class extends t{constructor(t){super(),n(this,t,Y,S,e,{})}}
//# sourceMappingURL=index-7be6fbe4.js.map
