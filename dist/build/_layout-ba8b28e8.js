import{S as t,i as e,s,F as n,e as a,a as i,b as l,M as o,c,d as r,l as u,f as m,m as d,o as p,n as g,N as h,t as f,H as v,I as $,z as w,j as b,A as y,B as k,J as T,C as x,g as O,D as M,y as j,E as H,q as L,O as N,P as B,v as E}from"./main.js";import{i as P,d as A,c as S,a as z}from"./store-95cd318b.js";import{p as C}from"./fetch-c1b3b3cf.js";function J(t,e,s){const n=t.slice();return n[6]=e[s],n}function Y(t){let e,s,n,p,g,h,f,v,$,w,b,y,k,T,x,O,M,j,H,L,N,B;function E(t,e){return t[3]?q:D}let P=E(t),A=P(t),S=t[0].nav,z=[];for(let e=0;e<S.length;e+=1)z[e]=F(J(t,S,e));return{c(){e=a("header"),s=a("div"),n=a("a"),p=a("picture"),g=a("source"),f=i(),v=a("source"),w=i(),b=a("img"),T=i(),x=a("button"),A.c(),O=i(),M=a("nav"),j=a("ul"),H=a("li"),H.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',L=i();for(let t=0;t<z.length;t+=1)z[t].c();l(g,"srcset",h=t[0].site.logo[1]),l(g,"type","image/webp"),l(v,"srcset",$=t[0].site.logo[0]),l(v,"type","image/jpeg"),b.src!==(y=t[0].site.logo[0])&&l(b,"src",y),l(b,"alt",k=t[0].site.title),l(p,"class","block"),l(n,"id","logo"),l(n,"class","block bgw"),l(n,"href","/"),l(n,"rel","home"),l(x,"id","menuToggle"),l(x,"class","noBor"),l(x,"title","Open/close main navigation"),l(H,"class","nav-item"),l(M,"id","menu"),o(M,"active",t[3]),l(s,"class","grid content mx"),l(e,"class","block w100 bgw"),o(e,"small",t[2])},m(a,i){c(a,e,i),r(e,s),r(s,n),r(n,p),r(p,g),r(p,f),r(p,v),r(p,w),r(p,b),r(s,T),r(s,x),A.m(x,null),r(s,O),r(s,M),r(M,j),r(j,H),r(j,L);for(let t=0;t<z.length;t+=1)z[t].m(j,null);N||(B=u(x,"click",t[5]),N=!0)},p(t,s){if(1&s&&h!==(h=t[0].site.logo[1])&&l(g,"srcset",h),1&s&&$!==($=t[0].site.logo[0])&&l(v,"srcset",$),1&s&&b.src!==(y=t[0].site.logo[0])&&l(b,"src",y),1&s&&k!==(k=t[0].site.title)&&l(b,"alt",k),P!==(P=E(t))&&(A.d(1),A=P(t),A&&(A.c(),A.m(x,null))),1&s){let e;for(S=t[0].nav,e=0;e<S.length;e+=1){const n=J(t,S,e);z[e]?z[e].p(n,s):(z[e]=F(n),z[e].c(),z[e].m(j,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=S.length}8&s&&o(M,"active",t[3]),4&s&&o(e,"small",t[2])},d(t){t&&m(e),A.d(),d(z,t),N=!1,B()}}}function q(t){let e,s;return{c(){e=h("svg"),s=h("path"),l(s,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","24"),l(e,"height","24"),l(e,"viewBox","0 0 24 24")},m(t,n){c(t,e,n),r(e,s)},d(t){t&&m(e)}}}function D(t){let e,s,n,a,i,o,u,d;return{c(){e=h("svg"),s=h("title"),n=f("Open or close navigation"),a=h("desc"),i=f("Pressing the button in the mobile version opens the\n\t\t\t\t\t\t\tmain navigation menu. Pressing again closes the\n\t\t\t\t\t\t\tmenu.\n\t\t\t\t\t\t"),o=h("rect"),u=h("rect"),d=h("rect"),l(o,"width","100"),l(o,"height","20"),l(u,"y","30"),l(u,"width","100"),l(u,"height","20"),l(d,"y","60"),l(d,"width","100"),l(d,"height","20"),l(e,"viewBox","0 0 100 80"),l(e,"width","30"),l(e,"height","30")},m(t,l){c(t,e,l),r(e,s),r(s,n),r(e,a),r(a,i),r(e,o),r(e,u),r(e,d)},d(t){t&&m(e)}}}function F(t){let e,s,n,o,u=t[6].title+"";return{c(){e=a("li"),s=a("a"),o=i(),l(s,"class","nav-link block"),l(s,"href",n=t[6].path),l(e,"class","nav-item")},m(t,n){c(t,e,n),r(e,s),s.innerHTML=u,r(e,o)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(s.innerHTML=u),1&e&&n!==(n=t[6].path)&&l(s,"href",n)},d(t){t&&m(e)}}}function I(t){let e,s,a,i,l=!1,o=()=>{l=!1};n(t[4]);let r=t[0]&&t[0].nav&&Y(t);return{c(){r&&r.c(),s=p()},m(n,m){r&&r.m(n,m),c(n,s,m),a||(i=u(window,"scroll",(()=>{l=!0,clearTimeout(e),e=setTimeout(o,100),t[4]()})),a=!0)},p(t,[n]){2&n&&!l&&(l=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(o,100)),t[0]&&t[0].nav?r?r.p(t,n):(r=Y(t),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:g,o:g,d(t){r&&r.d(t),t&&m(s),a=!1,i()}}}function K(t,e,s){let n,a,i,{data:l}=e;return t.$$set=t=>{"data"in t&&s(0,l=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(2,a=n>100||"")},[l,n,a,i,function(){s(1,n=window.pageYOffset)},()=>s(3,i=!i)]}class X extends t{constructor(t){super(),e(this,t,K,I,s,{data:0})}}function G(t){let e,s,n,o,u,d,g,h,f,b,x;function O(t,e){return t[0].cat?R:Q}e=new X({props:{data:t[1]}});let M=O(t),H=M(t);const L=t[7].default,N=j(L,t,t[6],null);let B=t[3].amount>0&&"/kassa"!=t[4].path&&U(t);return{c(){v(e.$$.fragment),s=i(),n=a("main"),o=a("div"),H.c(),u=i(),d=a("div"),g=a("div"),N&&N.c(),f=i(),B&&B.c(),b=p(),l(o,"id","hero"),l(o,"class","grid tw up tc"),l(g,"class","container mx"),l(d,"id","content"),l(d,"class","bgw py"),l(n,"class","block"),l(n,"style",h="background-image:url("+t[1].site.hero[0]+")")},m(t,a){$(e,t,a),c(t,s,a),c(t,n,a),r(n,o),H.m(o,null),r(n,u),r(n,d),r(d,g),N&&N.m(g,null),c(t,f,a),B&&B.m(t,a),c(t,b,a),x=!0},p(t,s){const a={};2&s&&(a.data=t[1]),e.$set(a),M===(M=O(t))&&H?H.p(t,s):(H.d(1),H=M(t),H&&(H.c(),H.m(o,null))),N&&N.p&&64&s&&w(N,L,t,t[6],s,null,null),(!x||2&s&&h!==(h="background-image:url("+t[1].site.hero[0]+")"))&&l(n,"style",h),t[3].amount>0&&"/kassa"!=t[4].path?B?B.p(t,s):(B=U(t),B.c(),B.m(b.parentNode,b)):B&&(B.d(1),B=null)},i(t){x||(y(e.$$.fragment,t),y(N,t),x=!0)},o(t){k(e.$$.fragment,t),k(N,t),x=!1},d(t){T(e,t),t&&m(s),t&&m(n),H.d(),N&&N.d(t),t&&m(f),B&&B.d(t),t&&m(b)}}}function Q(t){let e,s,n,l,o,u,d=t[1].site.title+"",p=t[1].site.slogan+"";return{c(){e=a("div"),s=a("h1"),n=f(d),l=i(),o=a("h3"),u=f(p)},m(t,a){c(t,e,a),r(e,s),r(s,n),r(e,l),r(e,o),r(o,u)},p(t,e){2&e&&d!==(d=t[1].site.title+"")&&b(n,d),2&e&&p!==(p=t[1].site.slogan+"")&&b(u,p)},d(t){t&&m(e)}}}function R(t){let e,s=t[2].title+"";return{c(){e=a("h1")},m(t,n){c(t,e,n),e.innerHTML=s},p(t,n){4&n&&s!==(s=t[2].title+"")&&(e.innerHTML=s)},d(t){t&&m(e)}}}function U(t){let e,s,n,o,u,d,p,g,h,v,$,w,y,k=t[3].amount+"",T=t[3].total+"";return{c(){e=a("div"),s=a("div"),n=a("div"),o=f("Tuotteita: "),u=f(k),d=f(" kpl"),p=i(),g=a("div"),h=f("Yhteensä: "),v=f(T),$=f(" €"),w=i(),y=a("a"),y.textContent="Kassalle",l(n,"id","cartAmount"),l(g,"id","cartAmount"),l(y,"class","grid"),l(y,"href","/kassa"),l(y,"rel","nofollow"),l(e,"id","cart"),l(e,"class","grid")},m(t,a){c(t,e,a),r(e,s),r(s,n),r(n,o),r(n,u),r(n,d),r(s,p),r(s,g),r(g,h),r(g,v),r(g,$),r(e,w),r(e,y)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&b(u,k),8&e&&T!==(T=t[3].total+"")&&b(v,T)},d(t){t&&m(e)}}}function V(t){let e,s,n=t[1]&&t[1].site&&G(t);return{c(){n&&n.c(),e=p()},m(t,a){n&&n.m(t,a),c(t,e,a),s=!0},p(t,[s]){t[1]&&t[1].site?n?(n.p(t,s),2&s&&y(n,1)):(n=G(t),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(H(),k(n,1,1,(()=>{n=null})),x())},i(t){s||(y(n),s=!0)},o(t){k(n),s=!1},d(t){n&&n.d(t),t&&m(e)}}}function W(t,e,s){let n,a,i,l,o,c;O(t,L,(t=>s(0,n=t))),O(t,P,(t=>s(1,a=t))),O(t,A,(t=>s(2,i=t))),O(t,S,(t=>s(3,l=t))),O(t,z,(t=>s(5,o=t))),O(t,N,(t=>s(4,c=t)));let{$$slots:r={},$$scope:u}=e;return M((async()=>{C().then((t=>{P.set(t)}))})),t.$$set=t=>{"$$scope"in t&&s(6,u=t.$$scope)},t.$$.update=()=>{if(15&t.$$.dirty&&n&&((a.site||i.title)&&(B.title=n.cat?i.title+" | "+a.site.title:a.site.title+" | "+a.site.slogan,(A.summary||a.site.summary)&&(B.summary=i.summary?i.summary:a.site.summary)),0==l.amount&&i.cart&&E(S,l=i.cart,l)),40&t.$$.dirty&&l.products){let t=[0,0];E(S,l.products=l.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),l),Object.values(l.products).forEach((e=>{e.discounts&&(e.price2=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.price2=t.price)}))),t[0]+=e.total=e.price2*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?E(S,l.products=[],l):(E(S,l.total=t[0],l),E(S,l.amount=t[1],l)),fetch(o+"?path=cart",{method:"POST",body:JSON.stringify(l)})}},[n,a,i,l,c,o,u,r]}export default class extends t{constructor(t){super(),e(this,t,W,V,s,{})}}
//# sourceMappingURL=_layout-ba8b28e8.js.map
