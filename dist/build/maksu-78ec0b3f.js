import{S as t,i as e,s as n,e as l,b as s,c as a,f as o,p as r,n as c,g as i,a as d,t as u,d as m,j as p,l as f,m as v,r as h,v as x}from"./main.js";import{c as y}from"./store-f149a77e.js";import{p as g}from"./fetch-f3058738.js";function b(t,e,n){const l=t.slice();return l[6]=e[n],l}function w(t){let e;function n(t,e){return 0==t[0]?k:F}let r=n(t),c=r(t);return{c(){e=l("div"),c.c(),s(e,"id","checkout"),s(e,"class","container rel")},m(t,n){a(t,e,n),c.m(e,null)},p(t,l){r===(r=n(t))&&c?c.p(t,l):(c.d(1),c=r(t),c&&(c.c(),c.m(e,null)))},d(t){t&&o(e),c.d()}}}function F(t){let e,n,s;function c(t,e){return"number"!=typeof t[0]?I:C}let i=c(t),u=i(t);return{c(){e=l("h1"),e.textContent="Kiitos tilauksesta",n=d(),u.c(),s=r()},m(t,l){a(t,e,l),a(t,n,l),u.m(t,l),a(t,s,l)},p(t,e){i===(i=c(t))&&u?u.p(t,e):(u.d(1),u=i(t),u&&(u.c(),u.m(s.parentNode,s)))},d(t){t&&o(e),t&&o(n),u.d(t),t&&o(s)}}}function k(t){let e,n,r,c,i,f,v,h,x,y,g,b,w,F,k,C,I,S,A,N,B,K,L,V,q,z,D,E,G,H,J,O,P,Q,R,U,W,X,Y,Z,$,_,tt,et,nt=t[2].customer.name1+"",lt=t[2].customer.name2+"",st=t[2].customer.street+"",at=t[2].customer.postal+"",ot=t[2].customer.area+"",rt=t[2].customer.phone+"",ct=t[2].customer.email+"",it=t[2].total.toFixed(2)+"",dt=t[2].total.toFixed(2)+"",ut=t[2].delivery&&j(t),mt=t[2].vat&&M(t),pt=t[1]&&T(t);return{c(){e=l("div"),n=l("div"),r=l("h2"),r.textContent="Asiakastiedot",c=d(),i=l("p"),f=u(nt),v=d(),h=u(lt),x=l("br"),y=d(),g=u(st),b=l("br"),w=d(),F=u(at),k=d(),C=u(ot),I=l("br"),S=d(),A=u(rt),N=l("br"),B=d(),K=u(ct),L=d(),V=l("div"),q=l("h2"),q.textContent="Maksutiedot",z=d(),D=l("table"),E=l("tbody"),G=l("tr"),H=l("td"),H.textContent="Tuotteet yhteensä",J=d(),O=l("td"),P=u(it),Q=u(" €"),R=d(),ut&&ut.c(),U=d(),mt&&mt.c(),W=d(),X=l("tr"),Y=l("td"),Y.textContent="Tilaus yhteensä",Z=d(),$=l("td"),_=u(dt),tt=u(" €"),et=d(),pt&&pt.c(),s(H,"class","label tl"),s(O,"class","value tr"),s(Y,"class","label tl"),s($,"class","value tr"),s(D,"class","w100"),s(V,"id","paymentInfo"),s(V,"class","item svelte-p1wt4e"),s(n,"class","items"),s(e,"id","paymentInfo"),s(e,"class","grid svelte-p1wt4e")},m(t,l){a(t,e,l),m(e,n),m(n,r),m(n,c),m(n,i),m(i,f),m(i,v),m(i,h),m(i,x),m(i,y),m(i,g),m(i,b),m(i,w),m(i,F),m(i,k),m(i,C),m(i,I),m(i,S),m(i,A),m(i,N),m(i,B),m(i,K),m(n,L),m(n,V),m(V,q),m(V,z),m(V,D),m(D,E),m(E,G),m(G,H),m(G,J),m(G,O),m(O,P),m(O,Q),m(E,R),ut&&ut.m(E,null),m(E,U),mt&&mt.m(E,null),m(E,W),m(E,X),m(X,Y),m(X,Z),m(X,$),m($,_),m($,tt),m(e,et),pt&&pt.m(e,null)},p(t,n){4&n&&nt!==(nt=t[2].customer.name1+"")&&p(f,nt),4&n&&lt!==(lt=t[2].customer.name2+"")&&p(h,lt),4&n&&st!==(st=t[2].customer.street+"")&&p(g,st),4&n&&at!==(at=t[2].customer.postal+"")&&p(F,at),4&n&&ot!==(ot=t[2].customer.area+"")&&p(C,ot),4&n&&rt!==(rt=t[2].customer.phone+"")&&p(A,rt),4&n&&ct!==(ct=t[2].customer.email+"")&&p(K,ct),4&n&&it!==(it=t[2].total.toFixed(2)+"")&&p(P,it),t[2].delivery?ut?ut.p(t,n):(ut=j(t),ut.c(),ut.m(E,U)):ut&&(ut.d(1),ut=null),t[2].vat?mt?mt.p(t,n):(mt=M(t),mt.c(),mt.m(E,W)):mt&&(mt.d(1),mt=null),4&n&&dt!==(dt=t[2].total.toFixed(2)+"")&&p(_,dt),t[1]?pt?pt.p(t,n):(pt=T(t),pt.c(),pt.m(e,null)):pt&&(pt.d(1),pt=null)},d(t){t&&o(e),ut&&ut.d(),mt&&mt.d(),pt&&pt.d()}}}function C(t){let e,n,s,r,c,i;return{c(){e=l("p"),n=u("Tilaus on vahvistettu ja tilaustiedot on lähetetty\n\t\t\t\t\tsähköpostiin.\n\t\t\t\t\t"),s=l("br"),r=u("\n\t\t\t\t\tTilausnumerosi on "),c=u(t[0]),i=u(".")},m(t,l){a(t,e,l),m(e,n),m(e,s),m(e,r),m(e,c),m(e,i)},p(t,e){1&e&&p(c,t[0])},d(t){t&&o(e)}}}function I(t){let e,n;return{c(){e=l("p"),n=u(t[0])},m(t,l){a(t,e,l),m(e,n)},p(t,e){1&e&&p(n,t[0])},d(t){t&&o(e)}}}function j(t){let e,n,r,c,i,f,v,h,x=t[2].delivery.distance.text+"",y=t[2].delivery.price.toFixed(2)+"";return{c(){e=l("tr"),n=l("td"),r=u("Toimitus, "),c=u(x),i=d(),f=l("td"),v=u(y),h=u(" €"),s(n,"class","label tl"),s(f,"class","value tr")},m(t,l){a(t,e,l),m(e,n),m(n,r),m(n,c),m(e,i),m(e,f),m(f,v),m(f,h)},p(t,e){4&e&&x!==(x=t[2].delivery.distance.text+"")&&p(c,x),4&e&&y!==(y=t[2].delivery.price.toFixed(2)+"")&&p(v,y)},d(t){t&&o(e)}}}function M(t){let e,n,r,c,i,f,v=t[2].vat.toFixed(2)+"";return{c(){e=l("tr"),n=l("td"),n.textContent="ALV",r=d(),c=l("td"),i=u(v),f=u(" €"),s(n,"class","label tl"),s(c,"class","value tr")},m(t,l){a(t,e,l),m(e,n),m(e,r),m(e,c),m(c,i),m(c,f)},p(t,e){4&e&&v!==(v=t[2].vat.toFixed(2)+"")&&p(i,v)},d(t){t&&o(e)}}}function T(t){let e,n,r,c,i=t[1],u=[];for(let e=0;e<i.length;e+=1)u[e]=S(b(t,i,e));return{c(){e=l("div"),n=l("h2"),n.textContent="Maksuvaihtoehdot",r=d(),c=l("div");for(let t=0;t<u.length;t+=1)u[t].c();s(c,"id","methods"),s(e,"id","paymentMethods"),s(e,"class","tc svelte-p1wt4e")},m(t,l){a(t,e,l),m(e,n),m(e,r),m(e,c);for(let t=0;t<u.length;t+=1)u[t].m(c,null)},p(t,e){if(10&e){let n;for(i=t[1],n=0;n<i.length;n+=1){const l=b(t,i,n);u[n]?u[n].p(l,e):(u[n]=S(l),u[n].c(),u[n].m(c,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=i.length}},d(t){t&&o(e),v(u,t)}}}function S(t){let e,n,r,c,i,v,h,x,y,g,b,w,F=t[6].name+"";function k(){return t[4](t[6])}return{c(){e=l("button"),n=l("figure"),r=l("img"),v=d(),h=l("figcaption"),x=u(F),y=d(),r.src!==(c=t[6].img)&&s(r,"src",c),s(r,"alt",i=t[6].name),s(e,"class","inl noBor svelte-p1wt4e"),s(e,"name","paymentMethod"),e.value=g=t[6].value},m(t,l){a(t,e,l),m(e,n),m(n,r),m(n,v),m(n,h),m(h,x),m(e,y),b||(w=f(e,"click",k),b=!0)},p(n,l){t=n,2&l&&r.src!==(c=t[6].img)&&s(r,"src",c),2&l&&i!==(i=t[6].name)&&s(r,"alt",i),2&l&&F!==(F=t[6].name+"")&&p(x,F),2&l&&g!==(g=t[6].value)&&(e.value=g)},d(t){t&&o(e),b=!1,w()}}}function A(t){let e,n=t[2].products&&w(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),a(t,e,l)},p(t,[l]){t[2].products?n?n.p(t,l):(n=w(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:c,o:c,d(t){n&&n.d(t),t&&o(e)}}}function N(t,e,n){let l,s,a;i(t,y,(t=>n(2,s=t))),i(t,h,(t=>n(5,a=t)));let o=0;function r(t,e=""){let r;e?r={paymentState:t,paymentMethod:e,order:s.orderId}:(r=s,r.paymentState=t),g("payment",r).then((t=>{t.redirect||t.message?void 0!==t.redirect?window.location.replace(t.redirect):t.message&&n(0,o=t.message):(x(y,s.orderId=t.orderId,s),x(y,s.total=t.total,s),x(y,s.vat=t.vat,s),n(1,l=t.methods)),a()})).catch((t=>{console.log(t)}))}if(s&&s.products[0]||(window.location.replace("/"),a()),r("methods"),window.location.search){let t=window.location.search.substr(1).split("=");o="id"==t[0]?parseInt(t[1]):0,a()}return n(1,l=[]),[o,l,s,r,t=>r("create",t.value)]}export default class extends t{constructor(t){super(),e(this,t,N,A,n,{})}}
//# sourceMappingURL=maksu-78ec0b3f.js.map
