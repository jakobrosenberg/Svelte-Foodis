import{S as t,i as e,s as n,e as s,b as a,c as l,f as c,a as o,p as i,d as u,n as r,g as d,v as m,t as p,h as f,l as h,j as x,k as v,o as y,m as b,r as g,B as k,H as w}from"./main.js";import{c as C,d as F}from"./store-f149a77e.js";import{p as T}from"./fetch-f3058738.js";function $(t,e,n){const s=t.slice();return s[21]=e[n],s[22]=e,s[23]=n,s}function L(t,e,n){const s=t.slice();return s[21]=e[n],s[24]=e,s[25]=n,s}function H(t){let e;function n(t,e){return t[4]?M:j}let o=n(t),i=o(t);return{c(){e=s("div"),i.c(),a(e,"id","checkout"),a(e,"class","container rel")},m(t,n){l(t,e,n),i.m(e,null)},p(t,s){o===(o=n(t))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&c(e),i.d()}}}function M(t){let e,n;return{c(){n=i(),e=new w(n)},m(s,a){e.m(t[4],s,a),l(s,n,a)},p(t,n){16&n&&e.p(t[4])},d(t){t&&c(n),t&&e.d()}}}function j(t){let e,n,r,d,m,f,h,v,y,g,k,w,C,F,T,H,M,j,q,z,E,B,P,V,Y,X,D,G,J,O,Q,R,U,W,Z,_,tt,et,nt,st,at,lt,ct,ot,it=t[2].total.toFixed(2)+"",ut=t[7].toFixed(2)+"",rt=t[3].toFixed(2)+"",dt=t[6].body&&N(t),mt=t[2].products,pt=[];for(let e=0;e<mt.length;e+=1)pt[e]=I(L(t,mt,e));let ft=t[0].distance&&!t[1]&&K(t),ht=t[10],xt=[];for(let e=0;e<ht.length;e+=1)xt[e]=S($(t,ht,e));let vt=t[2].customer.name1&&t[2].customer.name2&&t[2].customer.street&&t[2].customer.postal&&t[2].customer.area&&A(t);return{c(){dt&&dt.c(),e=o(),n=s("div"),r=s("div"),d=s("h2"),d.textContent="Tuotteet",m=o(),f=s("table"),h=s("thead"),h.innerHTML='<tr><th class="tl">Tuote</th> \n\t\t\t\t\t\t\t\t<th class="tc">Hinta</th> \n\t\t\t\t\t\t\t\t<th class="tc">Määrä</th> \n\t\t\t\t\t\t\t\t<th class="tc">Yhteensä</th> \n\t\t\t\t\t\t\t\t<th></th></tr>',v=o(),y=s("tbody");for(let t=0;t<pt.length;t+=1)pt[t].c();g=o(),k=s("div"),w=s("h2"),w.textContent="Maksutiedot",C=o(),F=s("table"),T=s("tbody"),H=s("tr"),M=s("td"),M.textContent="Tuotteet yhteensä",j=o(),q=s("td"),z=p(it),E=p(" €"),B=o(),ft&&ft.c(),P=o(),V=s("tr"),Y=s("td"),Y.textContent="ALV 10%",X=o(),D=s("td"),G=p(ut),J=p(" €"),O=o(),Q=s("tr"),R=s("td"),R.textContent="Tilaus yhteensä",U=o(),W=s("td"),Z=p(rt),_=p(" €"),tt=o(),et=s("div"),nt=s("div"),st=s("h2"),st.textContent="Asiakastiedot",at=o(),lt=s("div");for(let t=0;t<xt.length;t+=1)xt[t].c();ct=o(),vt&&vt.c(),ot=i(),a(f,"id","productList"),a(f,"class","w100"),a(f,"rules","rows"),a(r,"class","item"),a(M,"class","label tl"),a(q,"class","value tr"),a(Y,"class","label tl"),a(D,"class","value tr"),a(R,"class","label tl"),a(W,"class","value tr"),a(F,"class","w100"),a(k,"id","paymentInfo"),a(k,"class","item"),a(n,"id","tables"),a(n,"class","grid"),a(lt,"class","grid"),a(nt,"id","client"),a(nt,"class","item"),a(et,"class","items")},m(t,s){dt&&dt.m(t,s),l(t,e,s),l(t,n,s),u(n,r),u(r,d),u(r,m),u(r,f),u(f,h),u(f,v),u(f,y);for(let t=0;t<pt.length;t+=1)pt[t].m(y,null);u(n,g),u(n,k),u(k,w),u(k,C),u(k,F),u(F,T),u(T,H),u(H,M),u(H,j),u(H,q),u(q,z),u(q,E),u(T,B),ft&&ft.m(T,null),u(T,P),u(T,V),u(V,Y),u(V,X),u(V,D),u(D,G),u(D,J),u(T,O),u(T,Q),u(Q,R),u(Q,U),u(Q,W),u(W,Z),u(W,_),l(t,tt,s),l(t,et,s),u(et,nt),u(nt,st),u(nt,at),u(nt,lt);for(let t=0;t<xt.length;t+=1)xt[t].m(lt,null);l(t,ct,s),vt&&vt.m(t,s),l(t,ot,s)},p(t,n){if(t[6].body?dt?dt.p(t,n):(dt=N(t),dt.c(),dt.m(e.parentNode,e)):dt&&(dt.d(1),dt=null),516&n){let e;for(mt=t[2].products,e=0;e<mt.length;e+=1){const s=L(t,mt,e);pt[e]?pt[e].p(s,n):(pt[e]=I(s),pt[e].c(),pt[e].m(y,null))}for(;e<pt.length;e+=1)pt[e].d(1);pt.length=mt.length}if(4&n&&it!==(it=t[2].total.toFixed(2)+"")&&x(z,it),t[0].distance&&!t[1]?ft?ft.p(t,n):(ft=K(t),ft.c(),ft.m(T,P)):ft&&(ft.d(1),ft=null),128&n&&ut!==(ut=t[7].toFixed(2)+"")&&x(G,ut),8&n&&rt!==(rt=t[3].toFixed(2)+"")&&x(Z,rt),1028&n){let e;for(ht=t[10],e=0;e<ht.length;e+=1){const s=$(t,ht,e);xt[e]?xt[e].p(s,n):(xt[e]=S(s),xt[e].c(),xt[e].m(lt,null))}for(;e<xt.length;e+=1)xt[e].d(1);xt.length=ht.length}t[2].customer.name1&&t[2].customer.name2&&t[2].customer.street&&t[2].customer.postal&&t[2].customer.area?vt?vt.p(t,n):(vt=A(t),vt.c(),vt.m(ot.parentNode,ot)):vt&&(vt.d(1),vt=null)},d(t){dt&&dt.d(t),t&&c(e),t&&c(n),b(pt,t),ft&&ft.d(),t&&c(tt),t&&c(et),b(xt,t),t&&c(ct),vt&&vt.d(t),t&&c(ot)}}}function N(t){let e,n=t[6].body+"";return{c(){e=s("div"),a(e,"class","body")},m(t,s){l(t,e,s),e.innerHTML=n},p(t,s){64&s&&n!==(n=t[6].body+"")&&(e.innerHTML=n)},d(t){t&&c(e)}}}function q(t){let e,n,i,r,d,m,b,g,k,w,C,F,T,$,L,H,M,j,N,q,I,K,S,A,B,P,V,Y,X,D=t[21].title+"",G=t[21].current.toFixed(2)+"",J=t[21].total.toFixed(2)+"",O=t[21].size&&z(t),Q=t[21].id&&E(t);function R(){t[12].call(j,t[25])}function U(){return t[13](t[25])}return{c(){e=s("tr"),n=s("td"),i=s("strong"),r=p(D),d=o(),O&&O.c(),m=o(),b=s("br"),g=o(),Q&&Q.c(),k=o(),w=s("td"),C=s("span"),C.textContent="Hinta:",F=o(),T=p(G),$=o(),L=s("td"),H=s("span"),H.textContent="Määrä:",M=o(),j=s("input"),N=o(),q=s("td"),I=s("span"),I.textContent="Yhteensä:",K=o(),S=p(J),A=o(),B=s("td"),P=s("button"),P.textContent="X",V=o(),a(n,"class","product tl"),a(w,"class","price tc pt"),a(j,"type","number"),a(j,"name","amount"),a(L,"class","amount tc"),a(q,"class","total tc pt"),a(P,"class","del noBor"),a(B,"class","tr pt")},m(s,a){l(s,e,a),u(e,n),u(n,i),u(i,r),u(i,d),O&&O.m(i,null),u(n,m),u(n,b),u(n,g),Q&&Q.m(n,null),u(e,k),u(e,w),u(w,C),u(w,F),u(w,T),u(e,$),u(e,L),u(L,H),u(L,M),u(L,j),f(j,t[2].products[t[25]].amount),u(e,N),u(e,q),u(q,I),u(q,K),u(q,S),u(e,A),u(e,B),u(B,P),u(e,V),Y||(X=[h(j,"input",R),h(P,"click",U)],Y=!0)},p(e,s){t=e,4&s&&D!==(D=t[21].title+"")&&x(r,D),t[21].size?O?O.p(t,s):(O=z(t),O.c(),O.m(i,null)):O&&(O.d(1),O=null),t[21].id?Q?Q.p(t,s):(Q=E(t),Q.c(),Q.m(n,null)):Q&&(Q.d(1),Q=null),4&s&&G!==(G=t[21].current.toFixed(2)+"")&&x(T,G),4&s&&v(j.value)!==t[2].products[t[25]].amount&&f(j,t[2].products[t[25]].amount),4&s&&J!==(J=t[21].total.toFixed(2)+"")&&x(S,J)},d(t){t&&c(e),O&&O.d(),Q&&Q.d(),Y=!1,y(X)}}}function z(t){let e,n,s=t[21].size+"";return{c(){e=p("- "),n=p(s)},m(t,s){l(t,e,s),l(t,n,s)},p(t,e){4&e&&s!==(s=t[21].size+"")&&x(n,s)},d(t){t&&c(e),t&&c(n)}}}function E(t){let e,n,a=t[21].id+"";return{c(){e=s("small"),n=p(a)},m(t,s){l(t,e,s),u(e,n)},p(t,e){4&e&&a!==(a=t[21].id+"")&&x(n,a)},d(t){t&&c(e)}}}function I(t){let e,n=null!=t[21]&&q(t);return{c(){n&&n.c(),e=i()},m(t,s){n&&n.m(t,s),l(t,e,s)},p(t,s){null!=t[21]?n?n.p(t,s):(n=q(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&c(e)}}}function K(t){let e,n,i,r,d,m,f,h,v=t[0].distance.text+"",y=t[0].price.toFixed(2)+"";return{c(){e=s("tr"),n=s("td"),i=p("Toimitus, "),r=p(v),d=o(),m=s("td"),f=p(y),h=p(" €"),a(n,"class","label tl"),a(m,"class","value tr")},m(t,s){l(t,e,s),u(e,n),u(n,i),u(n,r),u(e,d),u(e,m),u(m,f),u(m,h)},p(t,e){1&e&&v!==(v=t[0].distance.text+"")&&x(r,v),1&e&&y!==(y=t[0].price.toFixed(2)+"")&&x(f,y)},d(t){t&&c(e)}}}function S(t){let e,n,i,r,d,m,x,v,y,b=t[21].title+"";function g(){t[14].call(m,t[21])}return{c(){e=s("div"),n=s("label"),i=s("span"),r=p(b),d=o(),m=s("input"),x=o(),a(i,"class","block"),a(m,"id",t[21].name),a(m,"class","w100"),a(m,"name",t[21].name),a(e,"class","item")},m(s,a){l(s,e,a),u(e,n),u(n,i),u(i,r),u(n,d),u(n,m),f(m,t[2].customer[t[21].name]),u(e,x),v||(y=h(m,"input",g),v=!0)},p(e,n){t=e,1028&n&&m.value!==t[2].customer[t[21].name]&&f(m,t[2].customer[t[21].name])},d(t){t&&c(e),v=!1,y()}}}function A(t){let e;function n(t,e){return t[1]?V:t[0].distance?P:B}let o=n(t),i=o(t);return{c(){e=s("div"),i.c(),a(e,"id","payment"),a(e,"class","tc pad svelte-1wamewy")},m(t,n){l(t,e,n),i.m(e,null)},p(t,s){o===(o=n(t))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&c(e),i.d()}}}function B(t){let e,n,i,u,r=t[5]&&Y(t);return{c(){r&&r.c(),e=o(),n=s("button"),n.textContent="Laske tomituskulut",a(n,"id","done"),a(n,"class","end up svelte-1wamewy"),a(n,"name","shipping")},m(s,a){r&&r.m(s,a),l(s,e,a),l(s,n,a),i||(u=h(n,"click",t[17]),i=!0)},p(t,n){t[5]?r?r.p(t,n):(r=Y(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&c(e),t&&c(n),i=!1,u()}}}function P(t){let e,n,o;return{c(){e=s("button"),e.textContent="Vahvista tilaus",a(e,"id","done"),a(e,"class","end up svelte-1wamewy"),a(e,"name","done"),a(e,"type","submit")},m(s,a){l(s,e,a),n||(o=h(e,"click",t[16]),n=!0)},p:r,d(t){t&&c(e),n=!1,o()}}}function V(t){let e,n,i,u,d;return{c(){e=s("p"),e.textContent="Emme toimita verkkokaupasta yli 20 km säteelle,\n\t\t\t\t\t\t\tmutta voitte olla yhteydessä asiakaspalveluun.",n=o(),i=s("button"),i.textContent="Lähetä tarjouspyyntö",a(i,"id","done"),a(i,"class","end up svelte-1wamewy"),a(i,"name","done"),a(i,"type","submit")},m(s,a){l(s,e,a),l(s,n,a),l(s,i,a),u||(d=h(i,"click",t[15]),u=!0)},p:r,d(t){t&&c(e),t&&c(n),t&&c(i),u=!1,d()}}}function Y(t){let e,n;return{c(){e=s("p"),n=p(t[5])},m(t,s){l(t,e,s),u(e,n)},p(t,e){32&e&&x(n,t[5])},d(t){t&&c(e)}}}function X(t){let e,n,d,m=t[2].products[0]&&H(t);return{c(){e=s("meta"),n=o(),m&&m.c(),d=i(),document.title="Kassa - Tervetuloa maksamaan",a(e,"name","googlebot"),a(e,"content","noindex")},m(t,s){u(document.head,e),l(t,n,s),m&&m.m(t,s),l(t,d,s)},p(t,[e]){t[2].products[0]?m?m.p(t,e):(m=H(t),m.c(),m.m(d.parentNode,d)):m&&(m.d(1),m=null)},i:r,o:r,d(t){c(e),t&&c(n),m&&m.d(t),t&&c(d)}}}function D(t,e,n){let s,a,l,c,o,i,u;d(t,C,(t=>n(2,l=t))),d(t,g,(t=>n(18,c=t))),d(t,F,(t=>n(6,o=t))),d(t,k,(t=>n(19,i=t))),u||l.products[0]||(window.location.replace("/"),c()),m(F,o={},o);let r,p,f={title:"Toimitusmaksu",price:0};m(C,l.customer={name1:"",name2:"",street:"",postal:"",area:"",phone:"",email:""},l);let h={price:[{distance:5,price:4.9},{distance:10,price:8.9},{distance:20,price:12.9}],pcs:[{amount:5,discount:0},{amount:7,discount:1},{amount:10,discount:2},{amount:14,discount:3}]};function x(t,e){T(t,e).then((t=>{t.error?n(5,p=t.error):t.distance?n(0,f.distance={text:t.distance.text,value:t.distance.value/1e3},f):t.message?(n(4,u=t.message),C.set({})):F.set(t),c()})).catch((t=>{console.log(t)}))}function y(t){m(C,l.products=l.products.filter(((e,n)=>n!==parseInt(t)&&null!=e)).sort(),l)}let b=[{title:"Etunimi",type:"text",name:"name1",min:2,max:30,req:1},{title:"Sukunimi",type:"text",name:"name2",min:2,max:30,req:1},{title:"Puhelin",type:"text",name:"phone",min:5,max:15,req:1},{title:"Sähköposti",type:"email",name:"email",min:6,max:100,req:1},{title:"Katuosoite",type:"text",name:"street",min:5,max:50},{title:"Postinumero",type:"text",name:"postal",min:5,max:5},{title:"Kaupunki",type:"text",name:"area",min:3,max:50}];function w(t){f&&m(C,l.delivery=f,l),m(C,l.total=s,l),m(C,l.vat=a,l),2==parseInt(t)?x("offer",l):i("/maksu"),c()}return t.$$.update=()=>{7&t.$$.dirty&&f.distance&&(f.distance.value>20?n(1,r=1):(r&&n(1,r=""),h.price.forEach((function(t){if(f.distance.value<=t.distance)return n(0,f.price=t.price,f),!0})),h.pcs.forEach((function(t){if(l.amount<=t.amount)return n(0,f.price=f.price-t.discount,f),!0})))),5&t.$$.dirty&&n(3,s=l.total+f.price),8&t.$$.dirty&&n(7,a=.1*s)},[f,r,l,s,u,p,o,a,x,y,b,w,function(t){l.products[t].amount=v(this.value),C.set(l)},t=>y(t),function(t){l.customer[t.name]=this.value,C.set(l),n(10,b)},()=>w(2),()=>w(1),()=>x("distance",{address:l.customer.street+"+"+l.customer.postal+"+"+l.customer.area})]}export default class extends t{constructor(t){super(),e(this,t,D,X,n,{})}}
//# sourceMappingURL=kassa-7ac7e421.js.map
