import{S as t,i as e,s,e as n,I as l,t as a,a as c,b as i,c as r,d as o,j as u,n as d,f as m,g as h,h as p,l as g,m as f,r as v,J as $,F as w,K as y,G as b,B as k,C as x,H as T,p as z,E as M,D as j,A as B,z as L,q as H,L as O,M as A,v as E}from"./main.js";import{c as N,i as S,p as C,d as I}from"./store-9d38801d.js";function J(t){let e,s,h,p,g,f,v,$,w,y,b,k=t[0].amount+"";return{c(){e=n("div"),s=n("a"),h=l("svg"),p=l("title"),g=a("Jatka kassalle"),f=l("path"),v=c(),$=n("div"),w=n("div"),y=a(k),i(f,"d","M4.559 7l4.701-4.702c.198-.198.459-.298.72-.298.613 0 1.02.505 1.02 1.029 0 .25-.092.504-.299.711l-3.26 3.26h-2.882zm12 0h2.883l-4.702-4.702c-.198-.198-.459-.298-.72-.298-.613 0-1.02.505-1.02 1.029 0 .25.092.504.299.711l3.26 3.26zm3.703 4l-.016.041-3.598 8.959h-9.296l-3.597-8.961-.016-.039h16.523zm3.738-2h-24v2h.643c.535 0 1.021.304 1.256.784l4.101 10.216h12l4.102-10.214c.234-.481.722-.786 1.256-.786h.642v-2zm-14 5c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3z"),i(h,"xmlns","http://www.w3.org/2000/svg"),i(h,"width","38"),i(h,"height","38"),i(h,"viewBox","0 0 24 24"),i(w,"class",b="grid cell bold "+t[2]),i($,"id","cartBall"),i($,"class","abs"),i(s,"class","grid cell"),i(s,"href",t[1]),i(s,"rel","nofollow"),i(e,"id","cartIcon"),i(e,"class","rel")},m(t,n){r(t,e,n),o(e,s),o(s,h),o(h,p),o(p,g),o(h,f),o(s,v),o(s,$),o($,w),o(w,y)},p(t,[e]){1&e&&k!==(k=t[0].amount+"")&&u(y,k),4&e&&b!==(b="grid cell bold "+t[2])&&i(w,"class",b),2&e&&i(s,"href",t[1])},i:d,o:d,d(t){t&&m(e)}}}function F(t,e,s){let n,l,a;return h(t,N,(t=>s(0,a=t))),t.$$.update=()=>{1&t.$$.dirty&&s(1,n=a.amount>0?"/kassa":"/"),1&t.$$.dirty&&s(2,l=a.amount>0?"bgo tw":"bgw")},[a,n,l]}class G extends t{constructor(t){super(),e(this,t,F,J,s,{})}}function K(t,e,s){const n=t.slice();return n[8]=e[s],n}function P(t){let e,s,l,a,u,d=t[1][0]&&Y(t);return{c(){e=n("div"),s=n("input"),l=c(),d&&d.c(),i(s,"type","search"),i(s,"placeholder","hakusanat"),i(s,"minlength","3"),i(s,"maxlength","50"),i(e,"id","searchForm"),i(e,"class","abs")},m(n,c){r(n,e,c),o(e,s),p(s,t[0]),o(e,l),d&&d.m(e,null),a||(u=g(s,"input",t[4]),a=!0)},p(t,n){1&n&&p(s,t[0]),t[1][0]?d?d.p(t,n):(d=Y(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(t){t&&m(e),d&&d.d(),a=!1,u()}}}function Y(t){let e,s=t[1],l=[];for(let e=0;e<s.length;e+=1)l[e]=q(K(t,s,e));return{c(){e=n("div");for(let t=0;t<l.length;t+=1)l[t].c();i(e,"id","results"),i(e,"class","bgw tl")},m(t,s){r(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,n){if(6&n){let a;for(s=t[1],a=0;a<s.length;a+=1){const c=K(t,s,a);l[a]?l[a].p(c,n):(l[a]=q(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(t){t&&m(e),f(l,t)}}}function q(t){let e,s,l,c,d,h=t[8].title+"";return{c(){e=n("a"),s=a(h),i(e,"class","block"),i(e,"href",l=t[8].path)},m(n,l){r(n,e,l),o(e,s),c||(d=g(e,"click",t[5]),c=!0)},p(t,n){2&n&&h!==(h=t[8].title+"")&&u(s,h),2&n&&l!==(l=t[8].path)&&i(e,"href",l)},d(t){t&&m(e),c=!1,d()}}}function D(t){let e,s,l,a,u,h=t[2]&&P(t);return{c(){e=n("div"),s=n("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M21.172 24l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"></path></svg>',l=c(),h&&h.c(),i(s,"class","grid cell noBor"),i(e,"id","searchIcon"),i(e,"class","rel")},m(n,c){r(n,e,c),o(e,s),o(e,l),h&&h.m(e,null),a||(u=g(s,"click",t[3]),a=!0)},p(t,[s]){t[2]?h?h.p(t,s):(h=P(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:d,o:d,d(t){t&&m(e),h&&h.d(),a=!1,u()}}}function V(t,e,s){let n,l,a,c;function i(){let t=n.replace(/[&\/\\#,()$~%@^'"!:*?<>{}]/g,"");t=t.replace(" ","+"),async function(t="",e="",s=""){const n=await fetch(`http://foodis.dataline.fi/pw/${t}`,{method:e?"POST":"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:void 0},body:e?JSON.stringify(e):null});return await n.json()}("?search="+t).then((t=>{s(1,l=t)})).catch((t=>{console.log(t)})),a()}h(t,v,(t=>s(6,a=t)));return t.$$.update=()=>{1&t.$$.dirty&&n.length>=3&&i(),3&t.$$.dirty&&n.length<3&&l[0]&&s(1,l=[])},s(0,n=""),s(1,l=[]),[n,l,c,()=>s(2,c=!c),function(){n=this.value,s(0,n)},()=>s(2,c="")]}class X extends t{constructor(t){super(),e(this,t,V,D,s,{})}}function Q(t,e,s){const n=t.slice();return n[6]=e[s],n}function R(t){let e,s,l,a,u,d,h,p,v,$,z,M,j,B,L,H,O,A,E,N,S,C,I,J,F,K,P,Y;function q(t,e){return t[3]?U:W}let D=q(t),V=D(t),R=t[0].nav,_=[];for(let e=0;e<R.length;e+=1)_[e]=Z(Q(t,R,e));return I=new X({}),F=new G({}),{c(){e=n("header"),s=n("div"),l=n("a"),a=n("picture"),u=n("source"),h=c(),p=n("source"),$=c(),z=n("img"),B=c(),L=n("button"),V.c(),H=c(),O=n("nav"),A=n("ul"),E=n("li"),E.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',N=c();for(let t=0;t<_.length;t+=1)_[t].c();S=c(),C=n("div"),w(I.$$.fragment),J=c(),w(F.$$.fragment),i(u,"srcset",d=t[0].site.logo[1]),i(u,"type","image/webp"),i(p,"srcset",v=t[0].site.logo[0]),i(p,"type","image/jpeg"),z.src!==(M=t[0].site.logo[0])&&i(z,"src",M),i(z,"alt",j=t[0].site.title),i(a,"class","block"),i(l,"id","logo"),i(l,"class","block bgw"),i(l,"href","/"),i(l,"rel","home"),i(L,"id","menuToggle"),i(L,"class","noBor m0 abs"),i(L,"title","Open/close main navigation"),i(E,"class","nav-item"),i(A,"class","m0"),i(O,"id","menu"),y(O,"active",t[3]),i(C,"id","icons"),i(C,"class","abs grid"),i(s,"class","content mx"),i(e,"class","block w100 bgw"),y(e,"small",t[2])},m(n,c){r(n,e,c),o(e,s),o(s,l),o(l,a),o(a,u),o(a,h),o(a,p),o(a,$),o(a,z),o(s,B),o(s,L),V.m(L,null),o(s,H),o(s,O),o(O,A),o(A,E),o(A,N);for(let t=0;t<_.length;t+=1)_[t].m(A,null);o(s,S),o(s,C),b(I,C,null),o(C,J),b(F,C,null),K=!0,P||(Y=g(L,"click",t[5]),P=!0)},p(t,s){if((!K||1&s&&d!==(d=t[0].site.logo[1]))&&i(u,"srcset",d),(!K||1&s&&v!==(v=t[0].site.logo[0]))&&i(p,"srcset",v),(!K||1&s&&z.src!==(M=t[0].site.logo[0]))&&i(z,"src",M),(!K||1&s&&j!==(j=t[0].site.title))&&i(z,"alt",j),D!==(D=q(t))&&(V.d(1),V=D(t),V&&(V.c(),V.m(L,null))),1&s){let e;for(R=t[0].nav,e=0;e<R.length;e+=1){const n=Q(t,R,e);_[e]?_[e].p(n,s):(_[e]=Z(n),_[e].c(),_[e].m(A,null))}for(;e<_.length;e+=1)_[e].d(1);_.length=R.length}8&s&&y(O,"active",t[3]),4&s&&y(e,"small",t[2])},i(t){K||(k(I.$$.fragment,t),k(F.$$.fragment,t),K=!0)},o(t){x(I.$$.fragment,t),x(F.$$.fragment,t),K=!1},d(t){t&&m(e),V.d(),f(_,t),T(I),T(F),P=!1,Y()}}}function U(t){let e,s;return{c(){e=l("svg"),s=l("path"),i(s,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24")},m(t,n){r(t,e,n),o(e,s)},d(t){t&&m(e)}}}function W(t){let e,s,n,c,u,d;return{c(){e=l("svg"),s=l("title"),n=a("Avaa ja sulkee mobiilivalikon"),c=l("rect"),u=l("rect"),d=l("rect"),i(c,"width","100"),i(c,"height","20"),i(u,"y","30"),i(u,"width","100"),i(u,"height","20"),i(d,"y","60"),i(d,"width","100"),i(d,"height","20"),i(e,"viewBox","0 0 100 80"),i(e,"width","30"),i(e,"height","30")},m(t,l){r(t,e,l),o(e,s),o(s,n),o(e,c),o(e,u),o(e,d)},d(t){t&&m(e)}}}function Z(t){let e,s,l,a,u=t[6].title+"";return{c(){e=n("li"),s=n("a"),a=c(),i(s,"class","nav-link block"),i(s,"href",l=t[6].path),i(e,"class","nav-item")},m(t,n){r(t,e,n),o(e,s),s.innerHTML=u,o(e,a)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(s.innerHTML=u),1&e&&l!==(l=t[6].path)&&i(s,"href",l)},d(t){t&&m(e)}}}function _(t){let e,s,n,l,a,c=!1,i=()=>{c=!1};$(t[4]);let o=t[0]&&t[0].nav&&R(t);return{c(){o&&o.c(),s=z()},m(u,d){o&&o.m(u,d),r(u,s,d),n=!0,l||(a=g(window,"scroll",(()=>{c=!0,clearTimeout(e),e=setTimeout(i,100),t[4]()})),l=!0)},p(t,[n]){2&n&&!c&&(c=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(i,100)),t[0]&&t[0].nav?o?(o.p(t,n),1&n&&k(o,1)):(o=R(t),o.c(),k(o,1),o.m(s.parentNode,s)):o&&(M(),x(o,1,1,(()=>{o=null})),j())},i(t){n||(k(o),n=!0)},o(t){x(o),n=!1},d(t){o&&o.d(t),t&&m(s),l=!1,a()}}}function tt(t,e,s){let n,l,a,{data:c}=e;return t.$$set=t=>{"data"in t&&s(0,c=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(2,l=n>100||"")},[c,n,l,a,function(){s(1,n=window.pageYOffset)},()=>s(3,a=!a)]}class et extends t{constructor(t){super(),e(this,t,tt,_,s,{data:0})}}function st(t){let e,s,l,a,u,d,h,p,g,f,v,$;function y(t,e){return t[1].cat?lt:nt}e=new et({props:{data:t[0]}});let M=y(t),j=M(t);const H=t[6].default,O=L(H,t,t[5],null);let A=t[3].amount>0&&"/kassa"!=t[4].path&&"/maksu"!=t[4].path&&at(t),E=t[0].site&&t[0].site.payment&&ct(t);return{c(){w(e.$$.fragment),s=c(),l=n("main"),a=n("div"),j.c(),u=c(),d=n("div"),h=n("div"),O&&O.c(),g=c(),A&&A.c(),f=c(),E&&E.c(),v=z(),i(a,"id","hero"),i(a,"class","grid tw up tc"),i(h,"class","container mx"),i(d,"id","content"),i(d,"class","bgw py"),i(l,"class","block"),i(l,"style",p="background-image:url("+t[0].site.hero[0]+")")},m(t,n){b(e,t,n),r(t,s,n),r(t,l,n),o(l,a),j.m(a,null),o(l,u),o(l,d),o(d,h),O&&O.m(h,null),r(t,g,n),A&&A.m(t,n),r(t,f,n),E&&E.m(t,n),r(t,v,n),$=!0},p(t,s){const n={};1&s&&(n.data=t[0]),e.$set(n),M===(M=y(t))&&j?j.p(t,s):(j.d(1),j=M(t),j&&(j.c(),j.m(a,null))),O&&O.p&&(!$||32&s)&&B(O,H,t,t[5],s,null,null),(!$||1&s&&p!==(p="background-image:url("+t[0].site.hero[0]+")"))&&i(l,"style",p),t[3].amount>0&&"/kassa"!=t[4].path&&"/maksu"!=t[4].path?A?A.p(t,s):(A=at(t),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),t[0].site&&t[0].site.payment?E?E.p(t,s):(E=ct(t),E.c(),E.m(v.parentNode,v)):E&&(E.d(1),E=null)},i(t){$||(k(e.$$.fragment,t),k(O,t),$=!0)},o(t){x(e.$$.fragment,t),x(O,t),$=!1},d(t){T(e,t),t&&m(s),t&&m(l),j.d(),O&&O.d(t),t&&m(g),A&&A.d(t),t&&m(f),E&&E.d(t),t&&m(v)}}}function nt(t){let e,s,l,i,d,h,p=t[0].site.title+"",g=t[0].site.slogan+"";return{c(){e=n("div"),s=n("h1"),l=a(p),i=c(),d=n("h3"),h=a(g)},m(t,n){r(t,e,n),o(e,s),o(s,l),o(e,i),o(e,d),o(d,h)},p(t,e){1&e&&p!==(p=t[0].site.title+"")&&u(l,p),1&e&&g!==(g=t[0].site.slogan+"")&&u(h,g)},d(t){t&&m(e)}}}function lt(t){let e,s=t[2].title+"";return{c(){e=n("h1")},m(t,n){r(t,e,n),e.innerHTML=s},p(t,n){4&n&&s!==(s=t[2].title+"")&&(e.innerHTML=s)},d(t){t&&m(e)}}}function at(t){let e,s,l,d,h,p,g,f,v,$,w,y,b,k=t[3].amount+"",x=t[3].total+"";return{c(){e=n("div"),s=n("div"),l=n("div"),d=a("Tuotteita: "),h=a(k),p=a(" kpl"),g=c(),f=n("div"),v=a("Yhteensä: "),$=a(x),w=a(" €"),y=c(),b=n("a"),b.textContent="Kassalle",i(l,"id","cartAmount"),i(f,"id","cartAmount"),i(b,"class","grid"),i(b,"href","/kassa"),i(b,"rel","nofollow"),i(e,"id","cart"),i(e,"class","grid")},m(t,n){r(t,e,n),o(e,s),o(s,l),o(l,d),o(l,h),o(l,p),o(s,g),o(s,f),o(f,v),o(f,$),o(f,w),o(e,y),o(e,b)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&u(h,k),8&e&&x!==(x=t[3].total+"")&&u($,x)},d(t){t&&m(e)}}}function ct(t){let e,s,l,a,u,d,h,p,g,f,v;return{c(){e=n("footer"),s=n("div"),l=n("picture"),a=n("source"),d=c(),h=n("source"),g=c(),f=n("img"),a.src!==(u=t[0].site.payment[1])&&i(a,"src",u),i(a,"type","image/webp"),h.src!==(p=t[0].site.payment[0])&&i(h,"src",p),i(h,"type","image/jpeg"),i(f,"class","inl"),f.src!==(v=t[0].site.payment[0])&&i(f,"src",v),i(f,"alt","Visma Pay"),i(l,"class","inl"),i(s,"class","container mx pad"),i(e,"class","tc")},m(t,n){r(t,e,n),o(e,s),o(s,l),o(l,a),o(l,d),o(l,h),o(l,g),o(l,f)},p(t,e){1&e&&a.src!==(u=t[0].site.payment[1])&&i(a,"src",u),1&e&&h.src!==(p=t[0].site.payment[0])&&i(h,"src",p),1&e&&f.src!==(v=t[0].site.payment[0])&&i(f,"src",v)},d(t){t&&m(e)}}}function it(t){let e,s,n=t[0]&&t[0].site&&st(t);return{c(){n&&n.c(),e=z()},m(t,l){n&&n.m(t,l),r(t,e,l),s=!0},p(t,[s]){t[0]&&t[0].site?n?(n.p(t,s),1&s&&k(n,1)):(n=st(t),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(M(),x(n,1,1,(()=>{n=null})),j())},i(t){s||(k(n),s=!0)},o(t){x(n),s=!1},d(t){n&&n.d(t),t&&m(e)}}}function rt(t,e,s){let n,l,a,c,i,r;h(t,S,(t=>s(0,n=t))),h(t,C,(t=>s(8,l=t))),h(t,H,(t=>s(1,a=t))),h(t,I,(t=>s(2,c=t))),h(t,N,(t=>s(3,i=t))),h(t,O,(t=>s(4,r=t)));let{$$slots:o={},$$scope:u}=e;return window&&N.useLocalStorage(),n.site||l().then((function(t){S.set(t)})),t.$$set=t=>{"$$scope"in t&&s(5,u=t.$$scope)},t.$$.update=()=>{if(15&t.$$.dirty&&a&&((n.site||c.title)&&(A.title=a.cat?c.title+" | "+n.site.title:n.site.title+" | "+n.site.slogan,(I.summary||n.site.summary)&&(A.summary=c.summary?c.summary:n.site.summary)),0==i.amount&&c.cart&&E(N,i=c.cart,i)),8&t.$$.dirty&&i.products){let t=[0,0];E(N,i.products=i.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),i),Object.values(i.products).forEach((e=>{e.discounts&&(e.current=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.current=t.price)}))),t[0]+=e.total=e.current*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?E(N,i.products=[],i):(E(N,i.total=t[0],i),E(N,i.amount=t[1],i))}},[n,a,c,i,r,u,o]}export default class extends t{constructor(t){super(),e(this,t,rt,it,s,{})}}
//# sourceMappingURL=_layout-0c0ceec6.js.map
