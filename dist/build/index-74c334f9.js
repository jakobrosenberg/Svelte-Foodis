import{S as t,i as n,s as e,e as l,a as i,b as c,c as r,d as o,h as s,l as u,f as d,t as a,j as m,k as p,m as f,o as g,p as h,n as v,g as b,r as x,q as y,v as $}from"./main.js";import{d as D,c as j}from"./store-800f579f.js";import{p as H}from"./fetch-f3058738.js";function L(t,n,e){const l=t.slice();return l[11]=n[e],l}function k(t,n,e){const l=t.slice();return l[11]=n[e],l}function F(t){let n,e,a,m,f,h,v,b,x,y,$,D,j,H,L,k,F,w=t[2].img&&M(t),C=t[2].price&&T(t),N=t[2].body&&q(t),S=t[2].docs&&I(t),Y=t[2].extra&&E(t);return{c(){n=l("div"),e=l("div"),w&&w.c(),a=i(),m=l("div"),C&&C.c(),f=i(),h=l("div"),v=l("div"),b=l("div"),x=l("input"),y=i(),$=l("div"),D=l("button"),D.textContent="Lisää ostoskoriin",j=i(),N&&N.c(),H=i(),S&&S.c(),L=i(),Y&&Y.c(),c(e,"id","img"),c(x,"name","amount"),c(x,"type","number"),c(x,"min",t[3]),c(x,"step","1"),x.required=!0,c(D,"class","w100"),c(v,"id","cartIt"),c(v,"class","border grid"),c(h,"class","content"),c(m,"id","productInfo"),c(n,"id","product"),c(n,"class","container double grid")},m(l,i){r(l,n,i),o(n,e),w&&w.m(e,null),o(n,a),o(n,m),C&&C.m(m,null),o(m,f),o(m,h),o(h,v),o(v,b),o(b,x),s(x,t[0]),o(v,y),o(v,$),o($,D),o(h,j),N&&N.m(h,null),o(h,H),S&&S.m(h,null),o(h,L),Y&&Y.m(h,null),k||(F=[u(x,"input",t[7]),u(D,"click",t[5])],k=!0)},p(t,n){t[2].img?w?w.p(t,n):(w=M(t),w.c(),w.m(e,null)):w&&(w.d(1),w=null),t[2].price?C?C.p(t,n):(C=T(t),C.c(),C.m(m,f)):C&&(C.d(1),C=null),8&n&&c(x,"min",t[3]),1&n&&p(x.value)!==t[0]&&s(x,t[0]),t[2].body?N?N.p(t,n):(N=q(t),N.c(),N.m(h,H)):N&&(N.d(1),N=null),t[2].docs?S?S.p(t,n):(S=I(t),S.c(),S.m(h,L)):S&&(S.d(1),S=null),t[2].extra?Y?Y.p(t,n):(Y=E(t),Y.c(),Y.m(h,null)):Y&&(Y.d(1),Y=null)},d(t){t&&d(n),w&&w.d(),C&&C.d(),N&&N.d(),S&&S.d(),Y&&Y.d(),k=!1,g(F)}}}function M(t){let n,e,s,u,a,m,p,f,g,h;return{c(){n=l("picture"),e=l("source"),u=i(),a=l("source"),p=i(),f=l("img"),c(e,"srcset",s=t[2].img[0][1]),c(e,"type","image/webp"),c(a,"srcset",m=t[2].img[0][0]),c(a,"type","image/jpeg"),f.src!==(g=t[2].img[0][0])&&c(f,"src",g),c(f,"alt",h=t[2].title),c(n,"class","block")},m(t,l){r(t,n,l),o(n,e),o(n,u),o(n,a),o(n,p),o(n,f)},p(t,n){4&n&&s!==(s=t[2].img[0][1])&&c(e,"srcset",s),4&n&&m!==(m=t[2].img[0][0])&&c(a,"srcset",m),4&n&&f.src!==(g=t[2].img[0][0])&&c(f,"src",g),4&n&&h!==(h=t[2].title)&&c(f,"alt",h)},d(t){t&&d(n)}}}function T(t){let n,e,s,u,p,f,g=t[1].toFixed(2)+"",h=t[0]>1&&w(t);return{c(){n=l("div"),e=a("Hinta: "),s=l("strong"),u=a(g),p=a(" €"),f=i(),h&&h.c(),c(n,"id","price")},m(t,l){r(t,n,l),o(n,e),o(n,s),o(s,u),o(s,p),o(n,f),h&&h.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?h?h.p(t,e):(h=w(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&d(n),h&&h.d()}}}function w(t){let n,e,c,s,u,p,f,g=t[4].toFixed(2)+"";return{c(){n=l("br"),e=i(),c=l("small"),s=a("Yhteensä: "),u=l("strong"),p=a(g),f=a(" €")},m(t,l){r(t,n,l),r(t,e,l),r(t,c,l),o(c,s),o(c,u),o(u,p),o(u,f)},p(t,n){16&n&&g!==(g=t[4].toFixed(2)+"")&&m(p,g)},d(t){t&&d(n),t&&d(e),t&&d(c)}}}function q(t){let n,e=t[2].body+"";return{c(){n=l("div"),c(n,"id","body")},m(t,l){r(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function I(t){let n,e,i=t[2].docs,s=[];for(let n=0;n<i.length;n+=1)s[n]=C(k(t,i,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();c(n,"id","docs")},m(t,l){r(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(i=t[2].docs,l=0;l<i.length;l+=1){const c=k(t,i,l);s[l]?s[l].p(c,n):(s[l]=C(c),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(t){t&&d(n),f(s,t)}}}function C(t){let n,e,s,u,p,f=t[11].label+"";return{c(){n=l("li"),e=l("a"),s=a(f),p=i(),c(e,"href",u=t[11].value),c(e,"rel","nofollow")},m(t,l){r(t,n,l),o(n,e),o(e,s),o(n,p)},p(t,n){4&n&&f!==(f=t[11].label+"")&&m(s,f),4&n&&u!==(u=t[11].value)&&c(e,"href",u)},d(t){t&&d(n)}}}function E(t){let n,e,i=t[2].extra,s=[];for(let n=0;n<i.length;n+=1)s[n]=N(L(t,i,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();c(n,"id","extra")},m(t,l){r(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(i=t[2].extra,l=0;l<i.length;l+=1){const c=L(t,i,l);s[l]?s[l].p(c,n):(s[l]=N(c),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(t){t&&d(n),f(s,t)}}}function N(t){let n,e=t[11].name+"";return{c(){n=l("li")},m(t,l){r(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[11].name+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function S(t){let n,e=t[2]&&F(t);return{c(){e&&e.c(),n=h()},m(t,l){e&&e.m(t,l),r(t,n,l)},p(t,[l]){t[2]?e?e.p(t,l):(e=F(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:v,o:v,d(t){e&&e.d(t),t&&d(n)}}}function Y(t,n,e){let l,i,c,r,o,s,u,d;return b(t,D,(t=>e(2,o=t))),b(t,x,(t=>e(8,s=t))),b(t,j,(t=>e(9,u=t))),b(t,y,(t=>e(6,d=t))),t.$$.update=()=>{var n;4&t.$$.dirty&&e(1,c=o.price),7&t.$$.dirty&&o&&l&&(o.amountDiscounts&&(e(1,c=o.price),o.amountDiscounts.forEach((function(t){t.amount<=l&&e(1,c=t.price)}))),e(4,r=c*l)),3&t.$$.dirty&&e(4,r=l*c),64&t.$$.dirty&&d.slug&&(n=d.slug,H(n).then((t=>{D.set(t),o.amountDiscounts&&o.amountDiscounts[0]&&e(0,l=e(3,i=o.amountDiscounts[0].amount)),s()})).catch((t=>{console.log(t)})))},e(0,l=1),e(3,i=1),[l,c,o,i,r,function(){let t={id:o.id,title:o.title,price:o.price,current:c,amount:l,vat:14,total:r};o.amountDiscounts,$(j,u.total+=r,u),$(j,u.amount+=l,u),u.products.push(t)},d,function(){l=p(this.value),e(0,l)}]}export default class extends t{constructor(t){super(),n(this,t,Y,S,e,{})}}
//# sourceMappingURL=index-74c334f9.js.map
