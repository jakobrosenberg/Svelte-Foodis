import{S as t,i as e,s as n,a as l,e as s,b as a,c,x as o,y as r,z as d,f as u,g as m,A as p,B as f,q as h,k as v,C as x,o as y,n as k,t as g,d as b,h as C,l as F,j as $,r as w,D as T,E as H,F as M,G as S,H as j,m as q,I as L}from"./main.js";import{a as z,d as K,c as N}from"./store-4721e530.js";class I extends t{constructor(t){super(),e(this,t,null,null,n,{})}}function A(t,e,n){const l=t.slice();return l[6]=e[n],l}function B(t,e,n){const l=t.slice();return l[6]=e[n],l}function E(t,e,n){const l=t.slice();return l[6]=e[n],l[19]=e,l[20]=n,l}function D(t){let e,n,a;function i(t,e){return"number"!=typeof t[3]?P:O}let o=i(t),r=o(t);return{c(){e=s("h1"),e.textContent="Kiitos tilauksesta",n=l(),r.c(),a=y()},m(t,l){c(t,e,l),c(t,n,l),r.m(t,l),c(t,a,l)},p(t,e){o===(o=i(t))&&r?r.p(t,e):(r.d(1),r=o(t),r&&(r.c(),r.m(a.parentNode,a)))},i:k,o:k,d(t){t&&u(e),t&&u(n),r.d(t),t&&u(a)}}}function J(t){let e,n,i,m,p,h,v,x,y,k,C,T,H,M,S,j,z,K,N,I,B,D,J,O,P,Y,G,X,U,_,tt,et,nt,lt,st,at,it,ct,ot,rt,dt,ut,mt,pt,ft,ht,vt,xt,yt,kt=t[1].total.toFixed(2)+"",gt=t[5].toFixed(2)+"",bt=t[2].toFixed(2)+"",Ct=t[4].body&&V(t),Ft=t[1].products,$t=[];for(let e=0;e<Ft.length;e+=1)$t[e]=Q(E(t,Ft,e));let wt=t[4].delivery&&R(t),Tt=t[0].price>0&&W(t),Ht=t[8],Mt=[];for(let e=0;e<Ht.length;e+=1)Mt[e]=Z(A(t,Ht,e));return{c(){Ct&&Ct.c(),e=l(),n=s("div"),i=s("div"),m=s("h2"),m.textContent="Tuotteet",p=l(),h=s("table"),v=s("thead"),v.innerHTML='<tr><th class="tl svelte-19e1tk1">Tuote</th> \n\t\t\t\t\t\t\t<th class="tc svelte-19e1tk1">Hinta</th> \n\t\t\t\t\t\t\t<th class="tc svelte-19e1tk1">Määrä</th> \n\t\t\t\t\t\t\t<th class="tc svelte-19e1tk1">Yhteensä</th> \n\t\t\t\t\t\t\t<th class="svelte-19e1tk1"></th></tr>',x=l(),y=s("tbody");for(let t=0;t<$t.length;t+=1)$t[t].c();k=l(),wt&&wt.c(),C=l(),T=s("div"),H=s("h2"),H.textContent="Maksutiedot",M=l(),S=s("table"),j=s("tbody"),z=s("tr"),K=s("td"),K.textContent="Tuotteet yhteensä",N=l(),I=s("td"),B=g(kt),D=g(" €"),J=l(),Tt&&Tt.c(),O=l(),P=s("tr"),Y=s("td"),Y.textContent="ALV 10%",G=l(),X=s("td"),U=g(gt),_=g(" €"),tt=l(),et=s("tr"),nt=s("td"),nt.textContent="Tilaus yhteensä",lt=l(),st=s("td"),at=g(bt),it=g(" €"),ct=l(),ot=s("form"),rt=s("div"),dt=s("h2"),dt.textContent="Asiakastiedot",ut=l(),mt=s("div");for(let t=0;t<Mt.length;t+=1)Mt[t].c();pt=l(),ft=s("div"),ht=s("button"),ht.textContent="Vahvista tilaus",a(h,"id","productList"),a(h,"class","w100"),a(h,"rules","rows"),a(i,"class","item"),a(K,"class","label tl svelte-19e1tk1"),a(I,"class","value tr svelte-19e1tk1"),a(Y,"class","label tl svelte-19e1tk1"),a(X,"class","value tr svelte-19e1tk1"),a(nt,"class","label tl svelte-19e1tk1"),a(st,"class","value tr svelte-19e1tk1"),a(S,"class","w100"),a(T,"id","paymentInfo"),a(T,"class","item"),a(n,"id","tables"),a(n,"class","grid svelte-19e1tk1"),a(mt,"class","grid svelte-19e1tk1"),a(rt,"id","client"),a(rt,"class","item svelte-19e1tk1"),a(ht,"id","ready"),a(ht,"class","end svelte-19e1tk1"),a(ht,"name","ready"),a(ht,"type","submit"),a(ft,"id","payment"),a(ft,"class","tc"),a(ot,"class","items")},m(l,s){Ct&&Ct.m(l,s),c(l,e,s),c(l,n,s),b(n,i),b(i,m),b(i,p),b(i,h),b(h,v),b(h,x),b(h,y);for(let t=0;t<$t.length;t+=1)$t[t].m(y,null);b(i,k),wt&&wt.m(i,null),b(n,C),b(n,T),b(T,H),b(T,M),b(T,S),b(S,j),b(j,z),b(z,K),b(z,N),b(z,I),b(I,B),b(I,D),b(j,J),Tt&&Tt.m(j,null),b(j,O),b(j,P),b(P,Y),b(P,G),b(P,X),b(X,U),b(X,_),b(j,tt),b(j,et),b(et,nt),b(et,lt),b(et,st),b(st,at),b(st,it),c(l,ct,s),c(l,ot,s),b(ot,rt),b(rt,dt),b(rt,ut),b(rt,mt);for(let t=0;t<Mt.length;t+=1)Mt[t].m(mt,null);b(ot,pt),b(ot,ft),b(ft,ht),vt=!0,xt||(yt=[F(ht,"click",t[13]),F(ot,"submit",L(t[9]))],xt=!0)},p(t,n){if(t[4].body?Ct?Ct.p(t,n):(Ct=V(t),Ct.c(),Ct.m(e.parentNode,e)):Ct&&(Ct.d(1),Ct=null),130&n){let e;for(Ft=t[1].products,e=0;e<Ft.length;e+=1){const l=E(t,Ft,e);$t[e]?$t[e].p(l,n):($t[e]=Q(l),$t[e].c(),$t[e].m(y,null))}for(;e<$t.length;e+=1)$t[e].d(1);$t.length=Ft.length}if(t[4].delivery?wt?(wt.p(t,n),16&n&&d(wt,1)):(wt=R(t),wt.c(),d(wt,1),wt.m(i,null)):wt&&(f(),o(wt,1,1,(()=>{wt=null})),r()),(!vt||2&n)&&kt!==(kt=t[1].total.toFixed(2)+"")&&$(B,kt),t[0].price>0?Tt?Tt.p(t,n):(Tt=W(t),Tt.c(),Tt.m(j,O)):Tt&&(Tt.d(1),Tt=null),(!vt||32&n)&&gt!==(gt=t[5].toFixed(2)+"")&&$(U,gt),(!vt||4&n)&&bt!==(bt=t[2].toFixed(2)+"")&&$(at,bt),256&n){let e;for(Ht=t[8],e=0;e<Ht.length;e+=1){const l=A(t,Ht,e);Mt[e]?Mt[e].p(l,n):(Mt[e]=Z(l),Mt[e].c(),Mt[e].m(mt,null))}for(;e<Mt.length;e+=1)Mt[e].d(1);Mt.length=Ht.length}},i(t){vt||(d(wt),vt=!0)},o(t){o(wt),vt=!1},d(t){Ct&&Ct.d(t),t&&u(e),t&&u(n),q($t,t),wt&&wt.d(),Tt&&Tt.d(),t&&u(ct),t&&u(ot),q(Mt,t),xt=!1,w(yt)}}}function O(t){let e,n,l,a;return{c(){e=s("p"),n=g("Tilaus on vahvistettu ja tilaustiedot on lähetetty sähköpostiin.\n\t\t\t\tTilausnumerosi on "),l=g(t[3]),a=g(".")},m(t,s){c(t,e,s),b(e,n),b(e,l),b(e,a)},p(t,e){8&e&&$(l,t[3])},d(t){t&&u(e)}}}function P(t){let e,n;return{c(){e=s("p"),n=g(t[3])},m(t,l){c(t,e,l),b(e,n)},p(t,e){8&e&&$(n,t[3])},d(t){t&&u(e)}}}function V(t){let e,n=t[4].body+"";return{c(){e=s("div"),a(e,"class","body")},m(t,l){c(t,e,l),e.innerHTML=n},p(t,l){16&l&&n!==(n=t[4].body+"")&&(e.innerHTML=n)},d(t){t&&u(e)}}}function Y(t){let e,n,i,o,r,d,m,p,f,h,x,y,k,T,H,M,S,j,q,L,z,K,N,I,A,B,E,D,J,O=t[6].title+"",P=t[6].price2.toFixed(2)+"",V=t[6].total.toFixed(2)+"",Y=t[6].size&&G(t),Q=t[6].id&&X(t);function R(){t[10].call(j,t[20])}function U(){return t[11](t[20])}return{c(){e=s("tr"),n=s("td"),i=s("strong"),o=g(O),r=l(),Y&&Y.c(),d=l(),m=s("br"),p=l(),Q&&Q.c(),f=l(),h=s("td"),x=s("span"),x.textContent="Hinta:",y=l(),k=g(P),T=l(),H=s("td"),M=s("span"),M.textContent="Määrä:",S=l(),j=s("input"),q=l(),L=s("td"),z=s("span"),z.textContent="Yhteensä:",K=l(),N=g(V),I=l(),A=s("td"),B=s("button"),B.textContent="X",E=l(),a(n,"class","product tl svelte-19e1tk1"),a(x,"class","svelte-19e1tk1"),a(h,"class","price tc pt svelte-19e1tk1"),a(M,"class","svelte-19e1tk1"),a(j,"type","number"),a(j,"name","amount"),a(j,"class","svelte-19e1tk1"),a(H,"class","amount tc svelte-19e1tk1"),a(z,"class","svelte-19e1tk1"),a(L,"class","total tc pt svelte-19e1tk1"),a(B,"class","del noBor"),a(A,"class","tr pt svelte-19e1tk1")},m(l,s){c(l,e,s),b(e,n),b(n,i),b(i,o),b(i,r),Y&&Y.m(i,null),b(n,d),b(n,m),b(n,p),Q&&Q.m(n,null),b(e,f),b(e,h),b(h,x),b(h,y),b(h,k),b(e,T),b(e,H),b(H,M),b(H,S),b(H,j),C(j,t[1].products[t[20]].amount),b(e,q),b(e,L),b(L,z),b(L,K),b(L,N),b(e,I),b(e,A),b(A,B),b(e,E),D||(J=[F(j,"input",R),F(B,"click",U)],D=!0)},p(e,l){t=e,2&l&&O!==(O=t[6].title+"")&&$(o,O),t[6].size?Y?Y.p(t,l):(Y=G(t),Y.c(),Y.m(i,null)):Y&&(Y.d(1),Y=null),t[6].id?Q?Q.p(t,l):(Q=X(t),Q.c(),Q.m(n,null)):Q&&(Q.d(1),Q=null),2&l&&P!==(P=t[6].price2.toFixed(2)+"")&&$(k,P),2&l&&v(j.value)!==t[1].products[t[20]].amount&&C(j,t[1].products[t[20]].amount),2&l&&V!==(V=t[6].total.toFixed(2)+"")&&$(N,V)},d(t){t&&u(e),Y&&Y.d(),Q&&Q.d(),D=!1,w(J)}}}function G(t){let e,n,l=t[6].size+"";return{c(){e=g("- "),n=g(l)},m(t,l){c(t,e,l),c(t,n,l)},p(t,e){2&e&&l!==(l=t[6].size+"")&&$(n,l)},d(t){t&&u(e),t&&u(n)}}}function X(t){let e,n,l=t[6].id+"";return{c(){e=s("small"),n=g(l)},m(t,l){c(t,e,l),b(e,n)},p(t,e){2&e&&l!==(l=t[6].id+"")&&$(n,l)},d(t){t&&u(e)}}}function Q(t){let e,n=null!=t[6]&&Y(t);return{c(){n&&n.c(),e=y()},m(t,l){n&&n.m(t,l),c(t,e,l)},p(t,l){null!=t[6]?n?n.p(t,l):(n=Y(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}function R(t){let e,n,i,m,p,h,v,x,y=t[4].delivery,k=[];for(let e=0;e<y.length;e+=1)k[e]=U(B(t,y,e));const g=t=>o(k[t],1,1,(()=>{k[t]=null}));return{c(){e=s("div"),n=s("label"),i=s("span"),i.innerHTML="<h2>Toimitustapa</h2>",m=l(),p=s("select");for(let t=0;t<k.length;t+=1)k[t].c();a(i,"class","block"),void 0===t[6]&&T((()=>t[12].call(p))),a(e,"id","shipping")},m(l,s){c(l,e,s),b(e,n),b(n,i),b(n,m),b(n,p);for(let t=0;t<k.length;t+=1)k[t].m(p,null);H(p,t[6]),h=!0,v||(x=F(p,"change",t[12]),v=!0)},p(t,e){if(16&e){let n;for(y=t[4].delivery,n=0;n<y.length;n+=1){const l=B(t,y,n);k[n]?(k[n].p(l,e),d(k[n],1)):(k[n]=U(l),k[n].c(),d(k[n],1),k[n].m(p,null))}for(f(),n=y.length;n<k.length;n+=1)g(n);r()}64&e&&H(p,t[6])},i(t){if(!h){for(let t=0;t<y.length;t+=1)d(k[t]);h=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)o(k[t]);h=!1},d(t){t&&u(e),q(k,t),v=!1,x()}}}function U(t){let e,n;return e=new I({props:{id:t[6].id,name:t[6].name,price:t[6].price}}),{c(){M(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,n){const l={};16&n&&(l.id=t[6].id),16&n&&(l.name=t[6].name),16&n&&(l.price=t[6].price),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){o(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function W(t){let e,n,i,o,r,d,m=t[0].price.toFixed(2)+"";return{c(){e=s("tr"),n=s("td"),n.textContent="Kuljetus",i=l(),o=s("td"),r=g(m),d=g(" €"),a(n,"class","label tl svelte-19e1tk1"),a(o,"class","value tr svelte-19e1tk1")},m(t,l){c(t,e,l),b(e,n),b(e,i),b(e,o),b(o,r),b(o,d)},p(t,e){1&e&&m!==(m=t[0].price.toFixed(2)+"")&&$(r,m)},d(t){t&&u(e)}}}function Z(t){let e,n,i,o,r,d,m,p=t[6].title+"";return{c(){e=s("div"),n=s("label"),i=s("span"),o=g(p),r=l(),d=s("input"),m=l(),a(i,"class","block"),a(d,"id",t[6].name),a(d,"class","w100 svelte-19e1tk1"),a(d,"type",t[6].type),a(d,"name",t[6].name),a(d,"minlength",t[6].min),a(d,"maxlength",t[6].max),d.required=!0,a(e,"class","item")},m(t,l){c(t,e,l),b(e,n),b(n,i),b(i,o),b(n,r),b(n,d),b(e,m)},p:k,d(t){t&&u(e)}}}function _(t){let e,n,i,m,p,h;document.title=e=tt;const v=[J,D],x=[];function y(t,e){return 0==t[3]&&t[1].products[0]?0:1}return m=y(t),p=x[m]=v[m](t),{c(){n=l(),i=s("div"),p.c(),a(i,"id","checkout"),a(i,"class","container rel")},m(t,e){c(t,n,e),c(t,i,e),x[m].m(i,null),h=!0},p(t,[n]){(!h||0&n)&&e!==(e=tt)&&(document.title=e);let l=m;m=y(t),m===l?x[m].p(t,n):(f(),o(x[l],1,1,(()=>{x[l]=null})),r(),p=x[m],p?p.p(t,n):(p=x[m]=v[m](t),p.c()),d(p,1),p.m(i,null))},i(t){h||(d(p),h=!0)},o(t){o(p),h=!1},d(t){t&&u(n),t&&u(i),x[m].d()}}}let tt="Kassa";function et(t,e,n){let l,s,a,c,o,r;m(t,z,(t=>n(14,c=t))),m(t,K,(t=>n(4,o=t))),m(t,N,(t=>n(1,r=t)));let d=0,u={price:0};function f(t){h(N,r.products=r.products.filter(((e,n)=>n!==parseInt(t)&&null!=e)).sort(),r)}p((async()=>{const t=await fetch(c+"?type=kassa");K.set(await t.json()),n(0,u=o.delivery.items[0])}));let y=[{title:"Etunimi",type:"text",name:"name1",min:2,max:30,req:1},{title:"Sukunimi",type:"text",name:"name2",min:2,max:30,req:1},{title:"Puhelin",type:"text",name:"phone",min:5,max:15,req:1},{title:"Sähköposti",type:"email",name:"email",min:6,max:100,req:1},{title:"Katuosoite",type:"text",name:"street",min:5,max:50},{title:"Postinumero",type:"text",name:"postal",min:5,max:5},{title:"Kaupunki",type:"text",name:"area",min:3,max:50}];if(window.location.search){let t=window.location.search.substr(1).split("=");"id"==t[0]&&(d=parseInt(t[1]))}return t.$$.update=()=>{3&t.$$.dirty&&n(2,s=r.total+u.price),4&t.$$.dirty&&n(5,a=.1*s)},n(6,l=""),[u,r,s,d,o,a,l,f,y,async function(t){"undefined"!=typeof paymentSelected&&(h(N,r.method=paymentSelected,r),N.set(r));const e=new FormData;y.forEach((function(n){void 0!==t.target[n.name]&&e.append(n.name,t.target[n.name].value)})),e.append("cart",JSON.stringify(r.products)),e.append("delivery",JSON.stringify(u)),e.append("price",s),e.append("vat",a)},function(t){r.products[t].amount=v(this.value),N.set(r)},t=>f(t),function(){l=x(this),n(6,l)},()=>i=2]}export default class extends t{constructor(t){super(),e(this,t,et,_,n,{})}}
//# sourceMappingURL=kassa-534cd03a.js.map
