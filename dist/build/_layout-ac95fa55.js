import{S as t,i as e,s as l,e as s,E as n,t as a,a as c,b as i,c as r,d as o,j as u,n as d,f as m,g as h,h as g,l as p,m as f,p as v,F as $,G as w,H as b,I as y,A as k,B as x,J as T,o as z,K as M,L as B,z as j,C as H,y as L,q as O,M as N,N as A,v as E}from"./main.js";import{c as I,i as J,d as S,a as C}from"./store-7c55fc9d.js";import{p as F}from"./fetch-d9c99915.js";function K(t){let e,l,h,g,p,f,v,$,w,b,y,k=t[0].amount+"";return{c(){e=s("div"),l=s("a"),h=n("svg"),g=n("title"),p=a("Jatka kassalle"),f=n("path"),v=c(),$=s("div"),w=s("div"),b=a(k),i(f,"d","M4.559 7l4.701-4.702c.198-.198.459-.298.72-.298.613 0 1.02.505 1.02 1.029 0 .25-.092.504-.299.711l-3.26 3.26h-2.882zm12 0h2.883l-4.702-4.702c-.198-.198-.459-.298-.72-.298-.613 0-1.02.505-1.02 1.029 0 .25.092.504.299.711l3.26 3.26zm3.703 4l-.016.041-3.598 8.959h-9.296l-3.597-8.961-.016-.039h16.523zm3.738-2h-24v2h.643c.535 0 1.021.304 1.256.784l4.101 10.216h12l4.102-10.214c.234-.481.722-.786 1.256-.786h.642v-2zm-14 5c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3z"),i(h,"xmlns","http://www.w3.org/2000/svg"),i(h,"width","38"),i(h,"height","38"),i(h,"viewBox","0 0 24 24"),i(w,"class",y="grid cell bold "+t[2]),i($,"id","cartBall"),i($,"class","abs"),i(l,"class","grid cell"),i(l,"href",t[1]),i(l,"rel","nofollow"),i(e,"id","cartIcon"),i(e,"class","rel")},m(t,s){r(t,e,s),o(e,l),o(l,h),o(h,g),o(g,p),o(h,f),o(l,v),o(l,$),o($,w),o(w,b)},p(t,[e]){1&e&&k!==(k=t[0].amount+"")&&u(b,k),4&e&&y!==(y="grid cell bold "+t[2])&&i(w,"class",y),2&e&&i(l,"href",t[1])},i:d,o:d,d(t){t&&m(e)}}}function Y(t,e,l){let s,n,a;return h(t,I,(t=>l(0,a=t))),t.$$.update=()=>{1&t.$$.dirty&&l(1,s=a.amount>0?"/kassa":"/"),1&t.$$.dirty&&l(2,n=a.amount>0?"bgo tw":"bgw")},[a,s,n]}class q extends t{constructor(t){super(),e(this,t,Y,K,l,{})}}function G(t,e,l){const s=t.slice();return s[8]=e[l],s}function P(t){let e,l,n,a,u,d=t[1][0]&&X(t);return{c(){e=s("div"),l=s("input"),n=c(),d&&d.c(),i(l,"type","search"),i(l,"placeholder","hakusanat"),i(l,"minlength","3"),i(l,"maxlength","50"),i(e,"id","searchForm"),i(e,"class","abs")},m(s,c){r(s,e,c),o(e,l),g(l,t[0]),o(e,n),d&&d.m(e,null),a||(u=p(l,"input",t[4]),a=!0)},p(t,s){1&s&&g(l,t[0]),t[1][0]?d?d.p(t,s):(d=X(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(t){t&&m(e),d&&d.d(),a=!1,u()}}}function X(t){let e,l=t[1],n=[];for(let e=0;e<l.length;e+=1)n[e]=D(G(t,l,e));return{c(){e=s("div");for(let t=0;t<n.length;t+=1)n[t].c();i(e,"id","results"),i(e,"class","bgw tl")},m(t,l){r(t,e,l);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,s){if(6&s){let a;for(l=t[1],a=0;a<l.length;a+=1){const c=G(t,l,a);n[a]?n[a].p(c,s):(n[a]=D(c),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(t){t&&m(e),f(n,t)}}}function D(t){let e,l,n,c,d,h=t[8].title+"";return{c(){e=s("a"),l=a(h),i(e,"class","block"),i(e,"href",n=t[8].path)},m(s,n){r(s,e,n),o(e,l),c||(d=p(e,"click",t[5]),c=!0)},p(t,s){2&s&&h!==(h=t[8].title+"")&&u(l,h),2&s&&n!==(n=t[8].path)&&i(e,"href",n)},d(t){t&&m(e),c=!1,d()}}}function Q(t){let e,l,n,a,u,h=t[2]&&P(t);return{c(){e=s("div"),l=s("button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M21.172 24l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"></path></svg>',n=c(),h&&h.c(),i(l,"class","grid cell noBor"),i(e,"id","searchIcon"),i(e,"class","rel")},m(s,c){r(s,e,c),o(e,l),o(e,n),h&&h.m(e,null),a||(u=p(l,"click",t[3]),a=!0)},p(t,[l]){t[2]?h?h.p(t,l):(h=P(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:d,o:d,d(t){t&&m(e),h&&h.d(),a=!1,u()}}}function R(t,e,l){let s,n,a,c;h(t,v,(t=>l(6,a=t)));return t.$$.update=()=>{1&t.$$.dirty&&s.length>=3&&function(){let t=s.replace(/[&\/\\#,()$~%@^'"!:*?<>{}]/g,"");t=t.replace(" ","+"),F("search="+t).then((t=>{l(1,n=t),a()}))}(),3&t.$$.dirty&&s.length<3&&n[0]&&l(1,n=[])},l(0,s=""),l(1,n=[]),[s,n,c,()=>l(2,c=!c),function(){s=this.value,l(0,s)},()=>l(2,c="")]}class U extends t{constructor(t){super(),e(this,t,R,Q,l,{})}}function V(t,e,l){const s=t.slice();return s[6]=e[l],s}function W(t){let e,l,n,a,u,d,h,g,v,$,z,M,B,j,H,L,O,N,A,E,I,J,S,C,F,K,Y,G;function P(t,e){return t[3]?Z:_}let X=P(t),D=X(t),Q=t[0].nav,R=[];for(let e=0;e<Q.length;e+=1)R[e]=tt(V(t,Q,e));return S=new U({}),F=new q({}),{c(){e=s("header"),l=s("div"),n=s("a"),a=s("picture"),u=s("source"),h=c(),g=s("source"),$=c(),z=s("img"),j=c(),H=s("button"),D.c(),L=c(),O=s("nav"),N=s("ul"),A=s("li"),A.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',E=c();for(let t=0;t<R.length;t+=1)R[t].c();I=c(),J=s("div"),w(S.$$.fragment),C=c(),w(F.$$.fragment),i(u,"srcset",d=t[0].site.logo[1]),i(u,"type","image/webp"),i(g,"srcset",v=t[0].site.logo[0]),i(g,"type","image/jpeg"),z.src!==(M=t[0].site.logo[0])&&i(z,"src",M),i(z,"alt",B=t[0].site.title),i(a,"class","block"),i(n,"id","logo"),i(n,"class","block bgw"),i(n,"href","/"),i(n,"rel","home"),i(H,"id","menuToggle"),i(H,"class","noBor m0 abs"),i(H,"title","Open/close main navigation"),i(A,"class","nav-item"),i(N,"class","m0"),i(O,"id","menu"),b(O,"active",t[3]),i(J,"id","icons"),i(J,"class","abs grid"),i(l,"class","content mx"),i(e,"class","block w100 bgw"),b(e,"small",t[2])},m(s,c){r(s,e,c),o(e,l),o(l,n),o(n,a),o(a,u),o(a,h),o(a,g),o(a,$),o(a,z),o(l,j),o(l,H),D.m(H,null),o(l,L),o(l,O),o(O,N),o(N,A),o(N,E);for(let t=0;t<R.length;t+=1)R[t].m(N,null);o(l,I),o(l,J),y(S,J,null),o(J,C),y(F,J,null),K=!0,Y||(G=p(H,"click",t[5]),Y=!0)},p(t,l){if((!K||1&l&&d!==(d=t[0].site.logo[1]))&&i(u,"srcset",d),(!K||1&l&&v!==(v=t[0].site.logo[0]))&&i(g,"srcset",v),(!K||1&l&&z.src!==(M=t[0].site.logo[0]))&&i(z,"src",M),(!K||1&l&&B!==(B=t[0].site.title))&&i(z,"alt",B),X!==(X=P(t))&&(D.d(1),D=X(t),D&&(D.c(),D.m(H,null))),1&l){let e;for(Q=t[0].nav,e=0;e<Q.length;e+=1){const s=V(t,Q,e);R[e]?R[e].p(s,l):(R[e]=tt(s),R[e].c(),R[e].m(N,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=Q.length}8&l&&b(O,"active",t[3]),4&l&&b(e,"small",t[2])},i(t){K||(k(S.$$.fragment,t),k(F.$$.fragment,t),K=!0)},o(t){x(S.$$.fragment,t),x(F.$$.fragment,t),K=!1},d(t){t&&m(e),D.d(),f(R,t),T(S),T(F),Y=!1,G()}}}function Z(t){let e,l;return{c(){e=n("svg"),l=n("path"),i(l,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24")},m(t,s){r(t,e,s),o(e,l)},d(t){t&&m(e)}}}function _(t){let e,l,s,c,u,d;return{c(){e=n("svg"),l=n("title"),s=a("Avaa ja sulkee mobiilivalikon"),c=n("rect"),u=n("rect"),d=n("rect"),i(c,"width","100"),i(c,"height","20"),i(u,"y","30"),i(u,"width","100"),i(u,"height","20"),i(d,"y","60"),i(d,"width","100"),i(d,"height","20"),i(e,"viewBox","0 0 100 80"),i(e,"width","30"),i(e,"height","30")},m(t,n){r(t,e,n),o(e,l),o(l,s),o(e,c),o(e,u),o(e,d)},d(t){t&&m(e)}}}function tt(t){let e,l,n,a,u=t[6].title+"";return{c(){e=s("li"),l=s("a"),a=c(),i(l,"class","nav-link block"),i(l,"href",n=t[6].path),i(e,"class","nav-item")},m(t,s){r(t,e,s),o(e,l),l.innerHTML=u,o(e,a)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(l.innerHTML=u),1&e&&n!==(n=t[6].path)&&i(l,"href",n)},d(t){t&&m(e)}}}function et(t){let e,l,s,n,a,c=!1,i=()=>{c=!1};$(t[4]);let o=t[0]&&t[0].nav&&W(t);return{c(){o&&o.c(),l=z()},m(u,d){o&&o.m(u,d),r(u,l,d),s=!0,n||(a=p(window,"scroll",(()=>{c=!0,clearTimeout(e),e=setTimeout(i,100),t[4]()})),n=!0)},p(t,[s]){2&s&&!c&&(c=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(i,100)),t[0]&&t[0].nav?o?(o.p(t,s),1&s&&k(o,1)):(o=W(t),o.c(),k(o,1),o.m(l.parentNode,l)):o&&(M(),x(o,1,1,(()=>{o=null})),B())},i(t){s||(k(o),s=!0)},o(t){x(o),s=!1},d(t){o&&o.d(t),t&&m(l),n=!1,a()}}}function lt(t,e,l){let s,n,a,{data:c}=e;return t.$$set=t=>{"data"in t&&l(0,c=t.data)},t.$$.update=()=>{2&t.$$.dirty&&l(2,n=s>100||"")},[c,s,n,a,function(){l(1,s=window.pageYOffset)},()=>l(3,a=!a)]}class st extends t{constructor(t){super(),e(this,t,lt,et,l,{data:0})}}function nt(t){let e,l,n,a,u,d,h,g,p,f,v;function $(t,e){return t[0].cat?ct:at}e=new st({props:{data:t[1]}});let b=$(t),M=b(t);const B=t[7].default,H=L(B,t,t[6],null);let O=t[3].amount>0&&"/kassa"!=t[4].path&&it(t);return{c(){w(e.$$.fragment),l=c(),n=s("main"),a=s("div"),M.c(),u=c(),d=s("div"),h=s("div"),H&&H.c(),p=c(),O&&O.c(),f=z(),i(a,"id","hero"),i(a,"class","grid tw up tc"),i(h,"class","container mx"),i(d,"id","content"),i(d,"class","bgw py"),i(n,"class","block"),i(n,"style",g="background-image:url("+t[1].site.hero[0]+")")},m(t,s){y(e,t,s),r(t,l,s),r(t,n,s),o(n,a),M.m(a,null),o(n,u),o(n,d),o(d,h),H&&H.m(h,null),r(t,p,s),O&&O.m(t,s),r(t,f,s),v=!0},p(t,l){const s={};2&l&&(s.data=t[1]),e.$set(s),b===(b=$(t))&&M?M.p(t,l):(M.d(1),M=b(t),M&&(M.c(),M.m(a,null))),H&&H.p&&64&l&&j(H,B,t,t[6],l,null,null),(!v||2&l&&g!==(g="background-image:url("+t[1].site.hero[0]+")"))&&i(n,"style",g),t[3].amount>0&&"/kassa"!=t[4].path?O?O.p(t,l):(O=it(t),O.c(),O.m(f.parentNode,f)):O&&(O.d(1),O=null)},i(t){v||(k(e.$$.fragment,t),k(H,t),v=!0)},o(t){x(e.$$.fragment,t),x(H,t),v=!1},d(t){T(e,t),t&&m(l),t&&m(n),M.d(),H&&H.d(t),t&&m(p),O&&O.d(t),t&&m(f)}}}function at(t){let e,l,n,i,d,h,g=t[1].site.title+"",p=t[1].site.slogan+"";return{c(){e=s("div"),l=s("h1"),n=a(g),i=c(),d=s("h3"),h=a(p)},m(t,s){r(t,e,s),o(e,l),o(l,n),o(e,i),o(e,d),o(d,h)},p(t,e){2&e&&g!==(g=t[1].site.title+"")&&u(n,g),2&e&&p!==(p=t[1].site.slogan+"")&&u(h,p)},d(t){t&&m(e)}}}function ct(t){let e,l=t[2].title+"";return{c(){e=s("h1")},m(t,s){r(t,e,s),e.innerHTML=l},p(t,s){4&s&&l!==(l=t[2].title+"")&&(e.innerHTML=l)},d(t){t&&m(e)}}}function it(t){let e,l,n,d,h,g,p,f,v,$,w,b,y,k=t[3].amount+"",x=t[3].total+"";return{c(){e=s("div"),l=s("div"),n=s("div"),d=a("Tuotteita: "),h=a(k),g=a(" kpl"),p=c(),f=s("div"),v=a("Yhteensä: "),$=a(x),w=a(" €"),b=c(),y=s("a"),y.textContent="Kassalle",i(n,"id","cartAmount"),i(f,"id","cartAmount"),i(y,"class","grid"),i(y,"href","/kassa"),i(y,"rel","nofollow"),i(e,"id","cart"),i(e,"class","grid")},m(t,s){r(t,e,s),o(e,l),o(l,n),o(n,d),o(n,h),o(n,g),o(l,p),o(l,f),o(f,v),o(f,$),o(f,w),o(e,b),o(e,y)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&u(h,k),8&e&&x!==(x=t[3].total+"")&&u($,x)},d(t){t&&m(e)}}}function rt(t){let e,l,s=t[1]&&t[1].site&&nt(t);return{c(){s&&s.c(),e=z()},m(t,n){s&&s.m(t,n),r(t,e,n),l=!0},p(t,[l]){t[1]&&t[1].site?s?(s.p(t,l),2&l&&k(s,1)):(s=nt(t),s.c(),k(s,1),s.m(e.parentNode,e)):s&&(M(),x(s,1,1,(()=>{s=null})),B())},i(t){l||(k(s),l=!0)},o(t){x(s),l=!1},d(t){s&&s.d(t),t&&m(e)}}}function ot(t,e,l){let s,n,a,c,i,r;h(t,O,(t=>l(0,s=t))),h(t,J,(t=>l(1,n=t))),h(t,S,(t=>l(2,a=t))),h(t,I,(t=>l(3,c=t))),h(t,C,(t=>l(5,i=t))),h(t,N,(t=>l(4,r=t)));let{$$slots:o={},$$scope:u}=e;return H((async()=>{F().then((t=>{J.set(t)}))})),t.$$set=t=>{"$$scope"in t&&l(6,u=t.$$scope)},t.$$.update=()=>{if(15&t.$$.dirty&&s&&((n.site||a.title)&&(A.title=s.cat?a.title+" | "+n.site.title:n.site.title+" | "+n.site.slogan,(S.summary||n.site.summary)&&(A.summary=a.summary?a.summary:n.site.summary)),0==c.amount&&a.cart&&E(I,c=a.cart,c)),40&t.$$.dirty&&c.products){let t=[0,0];E(I,c.products=c.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),c),Object.values(c.products).forEach((e=>{e.discounts&&(e.price2=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.price2=t.price)}))),t[0]+=e.total=e.price2*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?E(I,c.products=[],c):(E(I,c.total=t[0],c),E(I,c.amount=t[1],c)),fetch(i+"?path=cart",{method:"POST",body:JSON.stringify(c)})}},[s,n,a,c,r,i,u,o]}export default class extends t{constructor(t){super(),e(this,t,ot,rt,l,{})}}
//# sourceMappingURL=_layout-ac95fa55.js.map
