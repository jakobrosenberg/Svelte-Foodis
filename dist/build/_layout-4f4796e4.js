import{S as t,i as e,s,F as a,e as n,a as i,b as l,L as o,c,d as r,l as u,f as d,m,o as p,n as g,M as h,t as f,H as v,I as $,y as w,j as y,z as b,A as k,J as T,B as x,g as O,C as M,x as j,D as H,p as L,N,O as B,q as A}from"./main.js";import{a as E,i as P,d as S,c as z}from"./store-998211f6.js";function C(t,e,s){const a=t.slice();return a[6]=e[s],a}function J(t){let e,s,a,p,g,h,f,v,$,w,y,b,k,T,x,O,M,j,H,L,N,B;function A(t,e){return t[3]?Y:q}let E=A(t),P=E(t),S=t[0].nav,z=[];for(let e=0;e<S.length;e+=1)z[e]=D(C(t,S,e));return{c(){e=n("header"),s=n("div"),a=n("a"),p=n("picture"),g=n("source"),f=i(),v=n("source"),w=i(),y=n("img"),T=i(),x=n("button"),P.c(),O=i(),M=n("nav"),j=n("ul"),H=n("li"),H.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',L=i();for(let t=0;t<z.length;t+=1)z[t].c();l(g,"srcset",h=t[0].site.logo[1]),l(g,"type","image/webp"),l(v,"srcset",$=t[0].site.logo[0]),l(v,"type","image/jpeg"),y.src!==(b=t[0].site.logo[0])&&l(y,"src",b),l(y,"alt",k=t[0].site.title),l(p,"class","block"),l(a,"id","logo"),l(a,"class","block bgw"),l(a,"href","/"),l(a,"rel","home"),l(x,"id","menuToggle"),l(x,"class","noBor"),l(x,"title","Open/close main navigation"),l(H,"class","nav-item"),l(M,"id","menu"),o(M,"active",t[3]),l(s,"class","grid content mx"),l(e,"class","block w100 bgw"),o(e,"small",t[2])},m(n,i){c(n,e,i),r(e,s),r(s,a),r(a,p),r(p,g),r(p,f),r(p,v),r(p,w),r(p,y),r(s,T),r(s,x),P.m(x,null),r(s,O),r(s,M),r(M,j),r(j,H),r(j,L);for(let t=0;t<z.length;t+=1)z[t].m(j,null);N||(B=u(x,"click",t[5]),N=!0)},p(t,s){if(1&s&&h!==(h=t[0].site.logo[1])&&l(g,"srcset",h),1&s&&$!==($=t[0].site.logo[0])&&l(v,"srcset",$),1&s&&y.src!==(b=t[0].site.logo[0])&&l(y,"src",b),1&s&&k!==(k=t[0].site.title)&&l(y,"alt",k),E!==(E=A(t))&&(P.d(1),P=E(t),P&&(P.c(),P.m(x,null))),1&s){let e;for(S=t[0].nav,e=0;e<S.length;e+=1){const a=C(t,S,e);z[e]?z[e].p(a,s):(z[e]=D(a),z[e].c(),z[e].m(j,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=S.length}8&s&&o(M,"active",t[3]),4&s&&o(e,"small",t[2])},d(t){t&&d(e),P.d(),m(z,t),N=!1,B()}}}function Y(t){let e,s;return{c(){e=h("svg"),s=h("path"),l(s,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","24"),l(e,"height","24"),l(e,"viewBox","0 0 24 24")},m(t,a){c(t,e,a),r(e,s)},d(t){t&&d(e)}}}function q(t){let e,s,a,n,i,o,u,m;return{c(){e=h("svg"),s=h("title"),a=f("Open or close navigation"),n=h("desc"),i=f("Pressing the button in the mobile version opens the\n\t\t\t\t\t\t\tmain navigation menu. Pressing again closes the\n\t\t\t\t\t\t\tmenu.\n\t\t\t\t\t\t"),o=h("rect"),u=h("rect"),m=h("rect"),l(o,"width","100"),l(o,"height","20"),l(u,"y","30"),l(u,"width","100"),l(u,"height","20"),l(m,"y","60"),l(m,"width","100"),l(m,"height","20"),l(e,"viewBox","0 0 100 80"),l(e,"width","30"),l(e,"height","30")},m(t,l){c(t,e,l),r(e,s),r(s,a),r(e,n),r(n,i),r(e,o),r(e,u),r(e,m)},d(t){t&&d(e)}}}function D(t){let e,s,a,o,u=t[6].title+"";return{c(){e=n("li"),s=n("a"),o=i(),l(s,"class","nav-link block"),l(s,"href",a=t[6].path),l(e,"class","nav-item")},m(t,a){c(t,e,a),r(e,s),s.innerHTML=u,r(e,o)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(s.innerHTML=u),1&e&&a!==(a=t[6].path)&&l(s,"href",a)},d(t){t&&d(e)}}}function F(t){let e,s,n,i,l=!1,o=()=>{l=!1};a(t[4]);let r=t[0]&&t[0].nav&&J(t);return{c(){r&&r.c(),s=p()},m(a,d){r&&r.m(a,d),c(a,s,d),n||(i=u(window,"scroll",(()=>{l=!0,clearTimeout(e),e=setTimeout(o,100),t[4]()})),n=!0)},p(t,[a]){2&a&&!l&&(l=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(o,100)),t[0]&&t[0].nav?r?r.p(t,a):(r=J(t),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:g,o:g,d(t){r&&r.d(t),t&&d(s),n=!1,i()}}}function I(t,e,s){let a,n,i,{data:l}=e;return t.$$set=t=>{"data"in t&&s(0,l=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(2,n=a>100||"")},[l,a,n,i,function(){s(1,a=window.pageYOffset)},()=>s(3,i=!i)]}class K extends t{constructor(t){super(),e(this,t,I,F,s,{data:0})}}function X(t){let e,s,a,o,u,m,g,h,f,y,x;function O(t,e){return t[0].cat?Q:G}e=new K({props:{data:t[1]}});let M=O(t),H=M(t);const L=t[7].default,N=j(L,t,t[6],null);let B=t[3].amount>0&&"/kassa"!=t[4].path&&R(t);return{c(){v(e.$$.fragment),s=i(),a=n("main"),o=n("div"),H.c(),u=i(),m=n("div"),g=n("div"),N&&N.c(),f=i(),B&&B.c(),y=p(),l(o,"id","hero"),l(o,"class","grid tw up tc"),l(g,"class","container mx"),l(m,"id","content"),l(m,"class","bgw py"),l(a,"class","block"),l(a,"style",h="background-image:url("+t[1].site.hero[0]+")")},m(t,n){$(e,t,n),c(t,s,n),c(t,a,n),r(a,o),H.m(o,null),r(a,u),r(a,m),r(m,g),N&&N.m(g,null),c(t,f,n),B&&B.m(t,n),c(t,y,n),x=!0},p(t,s){const n={};2&s&&(n.data=t[1]),e.$set(n),M===(M=O(t))&&H?H.p(t,s):(H.d(1),H=M(t),H&&(H.c(),H.m(o,null))),N&&N.p&&64&s&&w(N,L,t,t[6],s,null,null),(!x||2&s&&h!==(h="background-image:url("+t[1].site.hero[0]+")"))&&l(a,"style",h),t[3].amount>0&&"/kassa"!=t[4].path?B?B.p(t,s):(B=R(t),B.c(),B.m(y.parentNode,y)):B&&(B.d(1),B=null)},i(t){x||(b(e.$$.fragment,t),b(N,t),x=!0)},o(t){k(e.$$.fragment,t),k(N,t),x=!1},d(t){T(e,t),t&&d(s),t&&d(a),H.d(),N&&N.d(t),t&&d(f),B&&B.d(t),t&&d(y)}}}function G(t){let e,s,a,l,o,u,m=t[1].site.title+"",p=t[1].site.slogan+"";return{c(){e=n("div"),s=n("h1"),a=f(m),l=i(),o=n("h3"),u=f(p)},m(t,n){c(t,e,n),r(e,s),r(s,a),r(e,l),r(e,o),r(o,u)},p(t,e){2&e&&m!==(m=t[1].site.title+"")&&y(a,m),2&e&&p!==(p=t[1].site.slogan+"")&&y(u,p)},d(t){t&&d(e)}}}function Q(t){let e,s=t[2].title+"";return{c(){e=n("h1")},m(t,a){c(t,e,a),e.innerHTML=s},p(t,a){4&a&&s!==(s=t[2].title+"")&&(e.innerHTML=s)},d(t){t&&d(e)}}}function R(t){let e,s,a,o,u,m,p,g,h,v,$,w,b,k=t[3].amount+"",T=t[3].total+"";return{c(){e=n("div"),s=n("div"),a=n("div"),o=f("Tuotteita: "),u=f(k),m=f(" kpl"),p=i(),g=n("div"),h=f("Yhteensä: "),v=f(T),$=f(" €"),w=i(),b=n("a"),b.textContent="Kassalle",l(a,"id","cartAmount"),l(g,"id","cartAmount"),l(b,"class","grid"),l(b,"href","/kassa"),l(b,"rel","nofollow"),l(e,"id","cart"),l(e,"class","grid")},m(t,n){c(t,e,n),r(e,s),r(s,a),r(a,o),r(a,u),r(a,m),r(s,p),r(s,g),r(g,h),r(g,v),r(g,$),r(e,w),r(e,b)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&y(u,k),8&e&&T!==(T=t[3].total+"")&&y(v,T)},d(t){t&&d(e)}}}function U(t){let e,s,a=t[1]&&t[1].site&&X(t);return{c(){a&&a.c(),e=p()},m(t,n){a&&a.m(t,n),c(t,e,n),s=!0},p(t,[s]){t[1]&&t[1].site?a?(a.p(t,s),2&s&&b(a,1)):(a=X(t),a.c(),b(a,1),a.m(e.parentNode,e)):a&&(H(),k(a,1,1,(()=>{a=null})),x())},i(t){s||(b(a),s=!0)},o(t){k(a),s=!1},d(t){a&&a.d(t),t&&d(e)}}}function V(t,e,s){let a,n,i,l,o,c;O(t,E,(t=>s(5,a=t))),O(t,L,(t=>s(0,n=t))),O(t,P,(t=>s(1,i=t))),O(t,S,(t=>s(2,l=t))),O(t,z,(t=>s(3,o=t))),O(t,N,(t=>s(4,c=t)));let{$$slots:r={},$$scope:u}=e;return M((async()=>{try{const t=await fetch(a);P.set(await t.json())}catch(t){console.error(t)}})),t.$$set=t=>{"$$scope"in t&&s(6,u=t.$$scope)},t.$$.update=()=>{if(15&t.$$.dirty&&n&&((i.site||l.title)&&(B.title=n.cat?l.title+" | "+i.site.title:i.site.title+" | "+i.site.slogan,(S.summary||i.site.summary)&&(B.summary=l.summary?l.summary:i.site.summary)),0==o.amount&&l.cart&&A(z,o=l.cart,o)),40&t.$$.dirty&&o.products){let t=[0,0];A(z,o.products=o.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),o),Object.values(o.products).forEach((e=>{e.discounts&&(e.price2=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.price2=t.price)}))),t[0]+=e.total=e.price2*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?A(z,o.products=[],o):(A(z,o.total=t[0],o),A(z,o.amount=t[1],o)),fetch(a+"?path=cart",{method:"POST",body:JSON.stringify(o)})}},[n,i,l,o,c,a,u,r]}export default class extends t{constructor(t){super(),e(this,t,V,U,s,{})}}
//# sourceMappingURL=_layout-4f4796e4.js.map
