import{S as t,i as e,s,e as l,C as n,t as a,a as c,b as i,c as r,d as o,j as u,n as m,f as d,g as p,h,l as g,m as f,r as v,D as $,E as w,F as y,G as b,z as k,A as x,I as T,p as z,J as M,K as j,y as L,L as B,x as H,q as N,M as A,N as E,v as O}from"./main.js";import{c as I,i as C,d as F}from"./store-800f579f.js";import{p as J}from"./fetch-f3058738.js";function K(t){let e,s,p,h,g,f,v,$,w,y,b,k=t[0].amount+"";return{c(){e=l("div"),s=l("a"),p=n("svg"),h=n("title"),g=a("Jatka kassalle"),f=n("path"),v=c(),$=l("div"),w=l("div"),y=a(k),i(f,"d","M4.559 7l4.701-4.702c.198-.198.459-.298.72-.298.613 0 1.02.505 1.02 1.029 0 .25-.092.504-.299.711l-3.26 3.26h-2.882zm12 0h2.883l-4.702-4.702c-.198-.198-.459-.298-.72-.298-.613 0-1.02.505-1.02 1.029 0 .25.092.504.299.711l3.26 3.26zm3.703 4l-.016.041-3.598 8.959h-9.296l-3.597-8.961-.016-.039h16.523zm3.738-2h-24v2h.643c.535 0 1.021.304 1.256.784l4.101 10.216h12l4.102-10.214c.234-.481.722-.786 1.256-.786h.642v-2zm-14 5c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3zm3 0c0-.552-.447-1-1-1s-1 .448-1 1v3c0 .552.447 1 1 1s1-.448 1-1v-3z"),i(p,"xmlns","http://www.w3.org/2000/svg"),i(p,"width","38"),i(p,"height","38"),i(p,"viewBox","0 0 24 24"),i(w,"class",b="grid cell bold "+t[2]),i($,"id","cartBall"),i($,"class","abs"),i(s,"class","grid cell"),i(s,"href",t[1]),i(s,"rel","nofollow"),i(e,"id","cartIcon"),i(e,"class","rel")},m(t,l){r(t,e,l),o(e,s),o(s,p),o(p,h),o(h,g),o(p,f),o(s,v),o(s,$),o($,w),o(w,y)},p(t,[e]){1&e&&k!==(k=t[0].amount+"")&&u(y,k),4&e&&b!==(b="grid cell bold "+t[2])&&i(w,"class",b),2&e&&i(s,"href",t[1])},i:m,o:m,d(t){t&&d(e)}}}function S(t,e,s){let l,n,a;return p(t,I,(t=>s(0,a=t))),t.$$.update=()=>{1&t.$$.dirty&&s(1,l=a.amount>0?"/kassa":"/"),1&t.$$.dirty&&s(2,n=a.amount>0?"bgo tw":"bgw")},[a,l,n]}class Y extends t{constructor(t){super(),e(this,t,S,K,s,{})}}function q(t,e,s){const l=t.slice();return l[8]=e[s],l}function D(t){let e,s,n,a,u,m=t[1][0]&&G(t);return{c(){e=l("div"),s=l("input"),n=c(),m&&m.c(),i(s,"type","search"),i(s,"placeholder","hakusanat"),i(s,"minlength","3"),i(s,"maxlength","50"),i(e,"id","searchForm"),i(e,"class","abs")},m(l,c){r(l,e,c),o(e,s),h(s,t[0]),o(e,n),m&&m.m(e,null),a||(u=g(s,"input",t[4]),a=!0)},p(t,l){1&l&&h(s,t[0]),t[1][0]?m?m.p(t,l):(m=G(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(t){t&&d(e),m&&m.d(),a=!1,u()}}}function G(t){let e,s=t[1],n=[];for(let e=0;e<s.length;e+=1)n[e]=P(q(t,s,e));return{c(){e=l("div");for(let t=0;t<n.length;t+=1)n[t].c();i(e,"id","results"),i(e,"class","bgw tl")},m(t,s){r(t,e,s);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,l){if(6&l){let a;for(s=t[1],a=0;a<s.length;a+=1){const c=q(t,s,a);n[a]?n[a].p(c,l):(n[a]=P(c),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=s.length}},d(t){t&&d(e),f(n,t)}}}function P(t){let e,s,n,c,m,p=t[8].title+"";return{c(){e=l("a"),s=a(p),i(e,"class","block"),i(e,"href",n=t[8].path)},m(l,n){r(l,e,n),o(e,s),c||(m=g(e,"click",t[5]),c=!0)},p(t,l){2&l&&p!==(p=t[8].title+"")&&u(s,p),2&l&&n!==(n=t[8].path)&&i(e,"href",n)},d(t){t&&d(e),c=!1,m()}}}function V(t){let e,s,n,a,u,p=t[2]&&D(t);return{c(){e=l("div"),s=l("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M21.172 24l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"></path></svg>',n=c(),p&&p.c(),i(s,"class","grid cell noBor"),i(e,"id","searchIcon"),i(e,"class","rel")},m(l,c){r(l,e,c),o(e,s),o(e,n),p&&p.m(e,null),a||(u=g(s,"click",t[3]),a=!0)},p(t,[s]){t[2]?p?p.p(t,s):(p=D(t),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:m,o:m,d(t){t&&d(e),p&&p.d(),a=!1,u()}}}function X(t,e,s){let l,n,a,c;p(t,v,(t=>s(6,a=t)));return t.$$.update=()=>{1&t.$$.dirty&&l.length>=3&&function(){let t=l.replace(/[&\/\\#,()$~%@^'"!:*?<>{}]/g,"");t=t.replace(" ","+"),J("?search="+t).then((t=>{s(1,n=t)})).catch((t=>{console.log(t)})),a()}(),3&t.$$.dirty&&l.length<3&&n[0]&&s(1,n=[])},s(0,l=""),s(1,n=[]),[l,n,c,()=>s(2,c=!c),function(){l=this.value,s(0,l)},()=>s(2,c="")]}class Q extends t{constructor(t){super(),e(this,t,X,V,s,{})}}function R(t,e,s){const l=t.slice();return l[6]=e[s],l}function U(t){let e,s,n,a,u,m,p,h,v,$,z,M,j,L,B,H,N,A,E,O,I,C,F,J,K,S,q,D;function G(t,e){return t[3]?W:Z}let P=G(t),V=P(t),X=t[0].nav,U=[];for(let e=0;e<X.length;e+=1)U[e]=_(R(t,X,e));return F=new Q({}),K=new Y({}),{c(){e=l("header"),s=l("div"),n=l("a"),a=l("picture"),u=l("source"),p=c(),h=l("source"),$=c(),z=l("img"),L=c(),B=l("button"),V.c(),H=c(),N=l("nav"),A=l("ul"),E=l("li"),E.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',O=c();for(let t=0;t<U.length;t+=1)U[t].c();I=c(),C=l("div"),w(F.$$.fragment),J=c(),w(K.$$.fragment),i(u,"srcset",m=t[0].site.logo[1]),i(u,"type","image/webp"),i(h,"srcset",v=t[0].site.logo[0]),i(h,"type","image/jpeg"),z.src!==(M=t[0].site.logo[0])&&i(z,"src",M),i(z,"alt",j=t[0].site.title),i(a,"class","block"),i(n,"id","logo"),i(n,"class","block bgw"),i(n,"href","/"),i(n,"rel","home"),i(B,"id","menuToggle"),i(B,"class","noBor m0 abs"),i(B,"title","Open/close main navigation"),i(E,"class","nav-item"),i(A,"class","m0"),i(N,"id","menu"),y(N,"active",t[3]),i(C,"id","icons"),i(C,"class","abs grid"),i(s,"class","content mx"),i(e,"class","block w100 bgw"),y(e,"small",t[2])},m(l,c){r(l,e,c),o(e,s),o(s,n),o(n,a),o(a,u),o(a,p),o(a,h),o(a,$),o(a,z),o(s,L),o(s,B),V.m(B,null),o(s,H),o(s,N),o(N,A),o(A,E),o(A,O);for(let t=0;t<U.length;t+=1)U[t].m(A,null);o(s,I),o(s,C),b(F,C,null),o(C,J),b(K,C,null),S=!0,q||(D=g(B,"click",t[5]),q=!0)},p(t,s){if((!S||1&s&&m!==(m=t[0].site.logo[1]))&&i(u,"srcset",m),(!S||1&s&&v!==(v=t[0].site.logo[0]))&&i(h,"srcset",v),(!S||1&s&&z.src!==(M=t[0].site.logo[0]))&&i(z,"src",M),(!S||1&s&&j!==(j=t[0].site.title))&&i(z,"alt",j),P!==(P=G(t))&&(V.d(1),V=P(t),V&&(V.c(),V.m(B,null))),1&s){let e;for(X=t[0].nav,e=0;e<X.length;e+=1){const l=R(t,X,e);U[e]?U[e].p(l,s):(U[e]=_(l),U[e].c(),U[e].m(A,null))}for(;e<U.length;e+=1)U[e].d(1);U.length=X.length}8&s&&y(N,"active",t[3]),4&s&&y(e,"small",t[2])},i(t){S||(k(F.$$.fragment,t),k(K.$$.fragment,t),S=!0)},o(t){x(F.$$.fragment,t),x(K.$$.fragment,t),S=!1},d(t){t&&d(e),V.d(),f(U,t),T(F),T(K),q=!1,D()}}}function W(t){let e,s;return{c(){e=n("svg"),s=n("path"),i(s,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24")},m(t,l){r(t,e,l),o(e,s)},d(t){t&&d(e)}}}function Z(t){let e,s,l,c,u,m;return{c(){e=n("svg"),s=n("title"),l=a("Avaa ja sulkee mobiilivalikon"),c=n("rect"),u=n("rect"),m=n("rect"),i(c,"width","100"),i(c,"height","20"),i(u,"y","30"),i(u,"width","100"),i(u,"height","20"),i(m,"y","60"),i(m,"width","100"),i(m,"height","20"),i(e,"viewBox","0 0 100 80"),i(e,"width","30"),i(e,"height","30")},m(t,n){r(t,e,n),o(e,s),o(s,l),o(e,c),o(e,u),o(e,m)},d(t){t&&d(e)}}}function _(t){let e,s,n,a,u=t[6].title+"";return{c(){e=l("li"),s=l("a"),a=c(),i(s,"class","nav-link block"),i(s,"href",n=t[6].path),i(e,"class","nav-item")},m(t,l){r(t,e,l),o(e,s),s.innerHTML=u,o(e,a)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(s.innerHTML=u),1&e&&n!==(n=t[6].path)&&i(s,"href",n)},d(t){t&&d(e)}}}function tt(t){let e,s,l,n,a,c=!1,i=()=>{c=!1};$(t[4]);let o=t[0]&&t[0].nav&&U(t);return{c(){o&&o.c(),s=z()},m(u,m){o&&o.m(u,m),r(u,s,m),l=!0,n||(a=g(window,"scroll",(()=>{c=!0,clearTimeout(e),e=setTimeout(i,100),t[4]()})),n=!0)},p(t,[l]){2&l&&!c&&(c=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(i,100)),t[0]&&t[0].nav?o?(o.p(t,l),1&l&&k(o,1)):(o=U(t),o.c(),k(o,1),o.m(s.parentNode,s)):o&&(M(),x(o,1,1,(()=>{o=null})),j())},i(t){l||(k(o),l=!0)},o(t){x(o),l=!1},d(t){o&&o.d(t),t&&d(s),n=!1,a()}}}function et(t,e,s){let l,n,a,{data:c}=e;return t.$$set=t=>{"data"in t&&s(0,c=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(2,n=l>100||"")},[c,l,n,a,function(){s(1,l=window.pageYOffset)},()=>s(3,a=!a)]}class st extends t{constructor(t){super(),e(this,t,et,tt,s,{data:0})}}function lt(t){let e,s,n,a,u,m,p,h,g,f,v,$;function y(t,e){return t[0].cat?at:nt}e=new st({props:{data:t[1]}});let M=y(t),j=M(t);const B=t[6].default,N=H(B,t,t[5],null);let A=t[3].amount>0&&"/kassa"!=t[4].path&&"/maksu"!=t[4].path&&ct(t),E=t[1].site&&t[1].site.payment&&it(t);return{c(){w(e.$$.fragment),s=c(),n=l("main"),a=l("div"),j.c(),u=c(),m=l("div"),p=l("div"),N&&N.c(),g=c(),A&&A.c(),f=c(),E&&E.c(),v=z(),i(a,"id","hero"),i(a,"class","grid tw up tc"),i(p,"class","container mx"),i(m,"id","content"),i(m,"class","bgw py"),i(n,"class","block"),i(n,"style",h="background-image:url("+t[1].site.hero[0]+")")},m(t,l){b(e,t,l),r(t,s,l),r(t,n,l),o(n,a),j.m(a,null),o(n,u),o(n,m),o(m,p),N&&N.m(p,null),r(t,g,l),A&&A.m(t,l),r(t,f,l),E&&E.m(t,l),r(t,v,l),$=!0},p(t,s){const l={};2&s&&(l.data=t[1]),e.$set(l),M===(M=y(t))&&j?j.p(t,s):(j.d(1),j=M(t),j&&(j.c(),j.m(a,null))),N&&N.p&&32&s&&L(N,B,t,t[5],s,null,null),(!$||2&s&&h!==(h="background-image:url("+t[1].site.hero[0]+")"))&&i(n,"style",h),t[3].amount>0&&"/kassa"!=t[4].path&&"/maksu"!=t[4].path?A?A.p(t,s):(A=ct(t),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),t[1].site&&t[1].site.payment?E?E.p(t,s):(E=it(t),E.c(),E.m(v.parentNode,v)):E&&(E.d(1),E=null)},i(t){$||(k(e.$$.fragment,t),k(N,t),$=!0)},o(t){x(e.$$.fragment,t),x(N,t),$=!1},d(t){T(e,t),t&&d(s),t&&d(n),j.d(),N&&N.d(t),t&&d(g),A&&A.d(t),t&&d(f),E&&E.d(t),t&&d(v)}}}function nt(t){let e,s,n,i,m,p,h=t[1].site.title+"",g=t[1].site.slogan+"";return{c(){e=l("div"),s=l("h1"),n=a(h),i=c(),m=l("h3"),p=a(g)},m(t,l){r(t,e,l),o(e,s),o(s,n),o(e,i),o(e,m),o(m,p)},p(t,e){2&e&&h!==(h=t[1].site.title+"")&&u(n,h),2&e&&g!==(g=t[1].site.slogan+"")&&u(p,g)},d(t){t&&d(e)}}}function at(t){let e,s=t[2].title+"";return{c(){e=l("h1")},m(t,l){r(t,e,l),e.innerHTML=s},p(t,l){4&l&&s!==(s=t[2].title+"")&&(e.innerHTML=s)},d(t){t&&d(e)}}}function ct(t){let e,s,n,m,p,h,g,f,v,$,w,y,b,k=t[3].amount+"",x=t[3].total+"";return{c(){e=l("div"),s=l("div"),n=l("div"),m=a("Tuotteita: "),p=a(k),h=a(" kpl"),g=c(),f=l("div"),v=a("Yhteensä: "),$=a(x),w=a(" €"),y=c(),b=l("a"),b.textContent="Kassalle",i(n,"id","cartAmount"),i(f,"id","cartAmount"),i(b,"class","grid"),i(b,"href","/kassa"),i(b,"rel","nofollow"),i(e,"id","cart"),i(e,"class","grid")},m(t,l){r(t,e,l),o(e,s),o(s,n),o(n,m),o(n,p),o(n,h),o(s,g),o(s,f),o(f,v),o(f,$),o(f,w),o(e,y),o(e,b)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&u(p,k),8&e&&x!==(x=t[3].total+"")&&u($,x)},d(t){t&&d(e)}}}function it(t){let e,s,n,a,u,m,p,h,g,f,v;return{c(){e=l("footer"),s=l("div"),n=l("picture"),a=l("source"),m=c(),p=l("source"),g=c(),f=l("img"),a.src!==(u=t[1].site.payment[1])&&i(a,"src",u),i(a,"type","image/webp"),p.src!==(h=t[1].site.payment[0])&&i(p,"src",h),i(p,"type","image/jpeg"),i(f,"class","inl"),f.src!==(v=t[1].site.payment[0])&&i(f,"src",v),i(f,"alt","Visma Pay"),i(n,"class","inl"),i(s,"class","container mx pad"),i(e,"class","tc")},m(t,l){r(t,e,l),o(e,s),o(s,n),o(n,a),o(n,m),o(n,p),o(n,g),o(n,f)},p(t,e){2&e&&a.src!==(u=t[1].site.payment[1])&&i(a,"src",u),2&e&&p.src!==(h=t[1].site.payment[0])&&i(p,"src",h),2&e&&f.src!==(v=t[1].site.payment[0])&&i(f,"src",v)},d(t){t&&d(e)}}}function rt(t){let e,s,l=t[1]&&t[1].site&&lt(t);return{c(){l&&l.c(),e=z()},m(t,n){l&&l.m(t,n),r(t,e,n),s=!0},p(t,[s]){t[1]&&t[1].site?l?(l.p(t,s),2&s&&k(l,1)):(l=lt(t),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(M(),x(l,1,1,(()=>{l=null})),j())},i(t){s||(k(l),s=!0)},o(t){x(l),s=!1},d(t){l&&l.d(t),t&&d(e)}}}function ot(t,e,s){let l,n,a,c,i;p(t,N,(t=>s(0,l=t))),p(t,C,(t=>s(1,n=t))),p(t,F,(t=>s(2,a=t))),p(t,I,(t=>s(3,c=t))),p(t,A,(t=>s(4,i=t)));let{$$slots:r={},$$scope:o}=e;return I.useLocalStorage(),B((async()=>{J().then((t=>{C.set(t)}))})),t.$$set=t=>{"$$scope"in t&&s(5,o=t.$$scope)},t.$$.update=()=>{if(15&t.$$.dirty&&l&&((n.site||a.title)&&(E.title=l.cat?a.title+" | "+n.site.title:n.site.title+" | "+n.site.slogan,(F.summary||n.site.summary)&&(E.summary=a.summary?a.summary:n.site.summary)),0==c.amount&&a.cart&&O(I,c=a.cart,c)),8&t.$$.dirty&&c.products){let t=[0,0];O(I,c.products=c.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),c),Object.values(c.products).forEach((e=>{e.discounts&&(e.current=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.current=t.price)}))),t[0]+=e.total=e.current*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?O(I,c.products=[],c):(O(I,c.total=t[0],c),O(I,c.amount=t[1],c))}},[l,n,a,c,i,o,r]}export default class extends t{constructor(t){super(),e(this,t,ot,rt,s,{})}}
//# sourceMappingURL=_layout-5e3eae70.js.map
