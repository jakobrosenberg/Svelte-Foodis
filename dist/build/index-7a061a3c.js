import{S as t,i as n,s as e,e as l,a as i,b as r,c,d as o,h as s,l as u,f as d,t as a,j as m,k as p,m as f,o as g,p as h,n as v,g as b,r as x,q as y,v as $}from"./main.js";import{d as D,c as j}from"./store-f149a77e.js";import{p as H}from"./fetch-f3058738.js";function L(t,n,e){const l=t.slice();return l[11]=n[e],l}function k(t,n,e){const l=t.slice();return l[11]=n[e],l}function F(t){let n,e,a,m,f,h,v,b,x,y,$,D,j,H,L,k,F=t[2].img&&M(t),w=t[2].price&&T(t),C=t[2].body&&q(t),N=t[2].docs&&I(t),S=t[2].extra&&E(t);return{c(){n=l("div"),e=l("div"),F&&F.c(),a=i(),m=l("div"),w&&w.c(),f=i(),h=l("div"),v=l("div"),b=l("input"),x=i(),y=l("div"),$=l("button"),$.textContent="Lisää ostoskoriin",D=i(),C&&C.c(),j=i(),N&&N.c(),H=i(),S&&S.c(),r(e,"id","img"),r(b,"name","amount"),r(b,"type","number"),r(b,"min",t[3]),r(b,"step","1"),b.required=!0,r($,"class","w100"),r(h,"id","cartIt"),r(h,"class","border grid"),r(m,"id","productInfo"),r(n,"id","product"),r(n,"class","container double grid")},m(l,i){c(l,n,i),o(n,e),F&&F.m(e,null),o(n,a),o(n,m),w&&w.m(m,null),o(m,f),o(m,h),o(h,v),o(v,b),s(b,t[0]),o(h,x),o(h,y),o(y,$),o(m,D),C&&C.m(m,null),o(m,j),N&&N.m(m,null),o(m,H),S&&S.m(m,null),L||(k=[u(b,"input",t[7]),u($,"click",t[5])],L=!0)},p(t,n){t[2].img?F?F.p(t,n):(F=M(t),F.c(),F.m(e,null)):F&&(F.d(1),F=null),t[2].price?w?w.p(t,n):(w=T(t),w.c(),w.m(m,f)):w&&(w.d(1),w=null),8&n&&r(b,"min",t[3]),1&n&&p(b.value)!==t[0]&&s(b,t[0]),t[2].body?C?C.p(t,n):(C=q(t),C.c(),C.m(m,j)):C&&(C.d(1),C=null),t[2].docs?N?N.p(t,n):(N=I(t),N.c(),N.m(m,H)):N&&(N.d(1),N=null),t[2].extra?S?S.p(t,n):(S=E(t),S.c(),S.m(m,null)):S&&(S.d(1),S=null)},d(t){t&&d(n),F&&F.d(),w&&w.d(),C&&C.d(),N&&N.d(),S&&S.d(),L=!1,g(k)}}}function M(t){let n,e,s,u,a,m,p,f,g,h;return{c(){n=l("picture"),e=l("source"),u=i(),a=l("source"),p=i(),f=l("img"),r(e,"srcset",s=t[2].img[0][1]),r(e,"type","image/webp"),r(a,"srcset",m=t[2].img[0][0]),r(a,"type","image/jpeg"),f.src!==(g=t[2].img[0][0])&&r(f,"src",g),r(f,"alt",h=t[2].title),r(n,"class","block")},m(t,l){c(t,n,l),o(n,e),o(n,u),o(n,a),o(n,p),o(n,f)},p(t,n){4&n&&s!==(s=t[2].img[0][1])&&r(e,"srcset",s),4&n&&m!==(m=t[2].img[0][0])&&r(a,"srcset",m),4&n&&f.src!==(g=t[2].img[0][0])&&r(f,"src",g),4&n&&h!==(h=t[2].title)&&r(f,"alt",h)},d(t){t&&d(n)}}}function T(t){let n,e,s,u,p,f,g=t[1].toFixed(2)+"",h=t[0]>1&&w(t);return{c(){n=l("div"),e=a("Hinta: "),s=l("strong"),u=a(g),p=a(" €"),f=i(),h&&h.c(),r(n,"id","price")},m(t,l){c(t,n,l),o(n,e),o(n,s),o(s,u),o(s,p),o(n,f),h&&h.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?h?h.p(t,e):(h=w(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&d(n),h&&h.d()}}}function w(t){let n,e,r,s,u,p,f,g=t[4].toFixed(2)+"";return{c(){n=l("br"),e=i(),r=l("small"),s=a("Yhteensä: "),u=l("strong"),p=a(g),f=a(" €")},m(t,l){c(t,n,l),c(t,e,l),c(t,r,l),o(r,s),o(r,u),o(u,p),o(u,f)},p(t,n){16&n&&g!==(g=t[4].toFixed(2)+"")&&m(p,g)},d(t){t&&d(n),t&&d(e),t&&d(r)}}}function q(t){let n,e=t[2].body+"";return{c(){n=l("div"),r(n,"id","body")},m(t,l){c(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function I(t){let n,e,i=t[2].docs,s=[];for(let n=0;n<i.length;n+=1)s[n]=C(k(t,i,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();r(n,"id","docs")},m(t,l){c(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(i=t[2].docs,l=0;l<i.length;l+=1){const r=k(t,i,l);s[l]?s[l].p(r,n):(s[l]=C(r),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(t){t&&d(n),f(s,t)}}}function C(t){let n,e,s,u,p,f=t[11].label+"";return{c(){n=l("li"),e=l("a"),s=a(f),p=i(),r(e,"href",u=t[11].value),r(e,"rel","nofollow")},m(t,l){c(t,n,l),o(n,e),o(e,s),o(n,p)},p(t,n){4&n&&f!==(f=t[11].label+"")&&m(s,f),4&n&&u!==(u=t[11].value)&&r(e,"href",u)},d(t){t&&d(n)}}}function E(t){let n,e,i=t[2].extra,s=[];for(let n=0;n<i.length;n+=1)s[n]=N(L(t,i,n));return{c(){n=l("div"),e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c();r(n,"id","extra")},m(t,l){c(t,n,l),o(n,e);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,n){if(4&n){let l;for(i=t[2].extra,l=0;l<i.length;l+=1){const r=L(t,i,l);s[l]?s[l].p(r,n):(s[l]=N(r),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(t){t&&d(n),f(s,t)}}}function N(t){let n,e=t[11].name+"";return{c(){n=l("li")},m(t,l){c(t,n,l),n.innerHTML=e},p(t,l){4&l&&e!==(e=t[11].name+"")&&(n.innerHTML=e)},d(t){t&&d(n)}}}function S(t){let n,e=t[2]&&F(t);return{c(){e&&e.c(),n=h()},m(t,l){e&&e.m(t,l),c(t,n,l)},p(t,[l]){t[2]?e?e.p(t,l):(e=F(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:v,o:v,d(t){e&&e.d(t),t&&d(n)}}}function Y(t,n,e){let l,i,r,c,o,s,u,d;return b(t,D,(t=>e(2,o=t))),b(t,x,(t=>e(8,s=t))),b(t,j,(t=>e(9,u=t))),b(t,y,(t=>e(6,d=t))),t.$$.update=()=>{var n;4&t.$$.dirty&&e(1,r=o.price),7&t.$$.dirty&&o&&l&&(o.amountDiscounts&&(e(1,r=o.price),o.amountDiscounts.forEach((function(t){t.amount<=l&&e(1,r=t.price)}))),e(4,c=r*l)),3&t.$$.dirty&&e(4,c=l*r),64&t.$$.dirty&&d.slug&&(n=d.slug,H(n).then((t=>{D.set(t),o.amountDiscounts&&o.amountDiscounts[0]&&e(0,l=e(3,i=o.amountDiscounts[0].amount)),s()})).catch((t=>{console.log(t)})))},e(0,l=1),e(3,i=1),[l,r,o,i,c,function(){let t={id:o.id,title:o.title,price:o.price,current:r,amount:l,vat:14,total:c};o.amountDiscounts,$(j,u.total+=c,u),$(j,u.amount+=l,u),u.products.push(t)},d,function(){l=p(this.value),e(0,l)}]}export default class extends t{constructor(t){super(),n(this,t,Y,S,e,{})}}
//# sourceMappingURL=index-7a061a3c.js.map
