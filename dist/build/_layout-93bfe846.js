import{S as t,i as e,s,D as a,e as n,a as l,b as i,J as o,c,d as r,l as u,f as d,m,o as p,n as g,K as h,t as f,F as v,G as w,L as $,j as y,z as b,x as k,H as T,y as x,g as L,A as M,M as j,B as H,p as O,N as B,O as N,q as S}from"./main.js";import{d as A,i as E,c as z,a as K}from"./store-4721e530.js";function P(t,e,s){const a=t.slice();return a[6]=e[s],a}function Y(t){let e,s,a,p,g,h,f,v,w,$,y,b,k,T,x,L,M,j,H,O,B,N;function S(t,e){return t[3]?q:C}let A=S(t),E=A(t),z=t[0].nav,K=[];for(let e=0;e<z.length;e+=1)K[e]=D(P(t,z,e));return{c(){e=n("header"),s=n("div"),a=n("a"),p=n("picture"),g=n("source"),f=l(),v=n("source"),$=l(),y=n("img"),T=l(),x=n("button"),E.c(),L=l(),M=n("nav"),j=n("ul"),H=n("li"),H.innerHTML='<a class="nav-link block" href="/" rel="home">Etusivu</a>',O=l();for(let t=0;t<K.length;t+=1)K[t].c();i(g,"srcset",h=t[0].site.logo[1]),i(g,"type","image/webp"),i(v,"srcset",w=t[0].site.logo[0]),i(v,"type","image/jpeg"),y.src!==(b=t[0].site.logo[0])&&i(y,"src",b),i(y,"alt",k=t[0].site.title),i(p,"class","block"),i(a,"id","logo"),i(a,"class","block bgw"),i(a,"href","/"),i(a,"rel","home"),i(x,"id","menuToggle"),i(x,"class","noBor"),i(x,"title","Open/close main navigation"),i(H,"class","nav-item"),i(M,"id","menu"),o(M,"active",t[3]),i(s,"class","grid content mx"),i(e,"class","block w100 bgw"),o(e,"small",t[2])},m(n,l){c(n,e,l),r(e,s),r(s,a),r(a,p),r(p,g),r(p,f),r(p,v),r(p,$),r(p,y),r(s,T),r(s,x),E.m(x,null),r(s,L),r(s,M),r(M,j),r(j,H),r(j,O);for(let t=0;t<K.length;t+=1)K[t].m(j,null);B||(N=u(x,"click",t[5]),B=!0)},p(t,s){if(1&s&&h!==(h=t[0].site.logo[1])&&i(g,"srcset",h),1&s&&w!==(w=t[0].site.logo[0])&&i(v,"srcset",w),1&s&&y.src!==(b=t[0].site.logo[0])&&i(y,"src",b),1&s&&k!==(k=t[0].site.title)&&i(y,"alt",k),A!==(A=S(t))&&(E.d(1),E=A(t),E&&(E.c(),E.m(x,null))),1&s){let e;for(z=t[0].nav,e=0;e<z.length;e+=1){const a=P(t,z,e);K[e]?K[e].p(a,s):(K[e]=D(a),K[e].c(),K[e].m(j,null))}for(;e<K.length;e+=1)K[e].d(1);K.length=z.length}8&s&&o(M,"active",t[3]),4&s&&o(e,"small",t[2])},d(t){t&&d(e),E.d(),m(K,t),B=!1,N()}}}function q(t){let e,s;return{c(){e=h("svg"),s=h("path"),i(s,"d","M24 3.752l-4.423-3.752-7.771 9.039-7.647-9.008-4.159 4.278c2.285 2.885 5.284 5.903 8.362 8.708l-8.165 9.447 1.343 1.487c1.978-1.335 5.981-4.373 10.205-7.958 4.304 3.67 8.306 6.663 10.229 8.006l1.449-1.278-8.254-9.724c3.287-2.973 6.584-6.354 8.831-9.245z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","24"),i(e,"height","24"),i(e,"viewBox","0 0 24 24")},m(t,a){c(t,e,a),r(e,s)},d(t){t&&d(e)}}}function C(t){let e,s,a,n,l,o,u,m;return{c(){e=h("svg"),s=h("title"),a=f("Open or close navigation"),n=h("desc"),l=f("Pressing the button in the mobile version opens the\n\t\t\t\t\t\t\tmain navigation menu. Pressing again closes the\n\t\t\t\t\t\t\tmenu.\n\t\t\t\t\t\t"),o=h("rect"),u=h("rect"),m=h("rect"),i(o,"width","100"),i(o,"height","20"),i(u,"y","30"),i(u,"width","100"),i(u,"height","20"),i(m,"y","60"),i(m,"width","100"),i(m,"height","20"),i(e,"viewBox","0 0 100 80"),i(e,"width","30"),i(e,"height","30")},m(t,i){c(t,e,i),r(e,s),r(s,a),r(e,n),r(n,l),r(e,o),r(e,u),r(e,m)},d(t){t&&d(e)}}}function D(t){let e,s,a,o,u=t[6].title+"";return{c(){e=n("li"),s=n("a"),o=l(),i(s,"class","nav-link block"),i(s,"href",a=t[6].path),i(e,"class","nav-item")},m(t,a){c(t,e,a),r(e,s),s.innerHTML=u,r(e,o)},p(t,e){1&e&&u!==(u=t[6].title+"")&&(s.innerHTML=u),1&e&&a!==(a=t[6].path)&&i(s,"href",a)},d(t){t&&d(e)}}}function F(t){let e,s,n,l,i=!1,o=()=>{i=!1};a(t[4]);let r=t[0]&&t[0].nav&&Y(t);return{c(){r&&r.c(),s=p()},m(a,d){r&&r.m(a,d),c(a,s,d),n||(l=u(window,"scroll",(()=>{i=!0,clearTimeout(e),e=setTimeout(o,100),t[4]()})),n=!0)},p(t,[a]){2&a&&!i&&(i=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[1]),e=setTimeout(o,100)),t[0]&&t[0].nav?r?r.p(t,a):(r=Y(t),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:g,o:g,d(t){r&&r.d(t),t&&d(s),n=!1,l()}}}function G(t,e,s){let a,n,l,{data:i}=e;return t.$$set=t=>{"data"in t&&s(0,i=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(2,n=a>100||"")},[i,a,n,l,function(){s(1,a=window.pageYOffset)},()=>s(3,l=!l)]}class J extends t{constructor(t){super(),e(this,t,G,F,s,{data:0})}}function X(t){let e,s,a,o,u,m,g,h,f,y,x;function L(t,e){return t[0].cat?Q:I}e=new J({props:{data:t[1]}});let M=L(t),H=M(t);const O=t[6].default,B=j(O,t,t[5],null);let N=t[3].amount>0&&"/kassa"!=t[4].path&&R(t);return{c(){v(e.$$.fragment),s=l(),a=n("main"),o=n("div"),H.c(),u=l(),m=n("div"),g=n("div"),B&&B.c(),f=l(),N&&N.c(),y=p(),i(o,"id","hero"),i(o,"class","grid tw up tc svelte-1443w6s"),i(g,"class","container mx svelte-1443w6s"),i(m,"id","content"),i(m,"class","bgw py"),i(a,"class","block svelte-1443w6s"),i(a,"style",h="background-image:url("+t[1].site.hero[0]+")")},m(t,n){w(e,t,n),c(t,s,n),c(t,a,n),r(a,o),H.m(o,null),r(a,u),r(a,m),r(m,g),B&&B.m(g,null),c(t,f,n),N&&N.m(t,n),c(t,y,n),x=!0},p(t,s){const n={};2&s&&(n.data=t[1]),e.$set(n),M===(M=L(t))&&H?H.p(t,s):(H.d(1),H=M(t),H&&(H.c(),H.m(o,null))),B&&B.p&&32&s&&$(B,O,t,t[5],s,null,null),(!x||2&s&&h!==(h="background-image:url("+t[1].site.hero[0]+")"))&&i(a,"style",h),t[3].amount>0&&"/kassa"!=t[4].path?N?N.p(t,s):(N=R(t),N.c(),N.m(y.parentNode,y)):N&&(N.d(1),N=null)},i(t){x||(b(e.$$.fragment,t),b(B,t),x=!0)},o(t){k(e.$$.fragment,t),k(B,t),x=!1},d(t){T(e,t),t&&d(s),t&&d(a),H.d(),B&&B.d(t),t&&d(f),N&&N.d(t),t&&d(y)}}}function I(t){let e,s,a,o,u,m,p=t[1].site.title+"",g=t[1].site.slogan+"";return{c(){e=n("div"),s=n("h1"),a=f(p),o=l(),u=n("h3"),m=f(g),i(s,"class","svelte-1443w6s"),i(u,"class","svelte-1443w6s")},m(t,n){c(t,e,n),r(e,s),r(s,a),r(e,o),r(e,u),r(u,m)},p(t,e){2&e&&p!==(p=t[1].site.title+"")&&y(a,p),2&e&&g!==(g=t[1].site.slogan+"")&&y(m,g)},d(t){t&&d(e)}}}function Q(t){let e,s=t[2].title+"";return{c(){e=n("h1"),i(e,"class","svelte-1443w6s")},m(t,a){c(t,e,a),e.innerHTML=s},p(t,a){4&a&&s!==(s=t[2].title+"")&&(e.innerHTML=s)},d(t){t&&d(e)}}}function R(t){let e,s,a,o,u,m,p,g,h,v,w,$,b,k=t[3].amount+"",T=t[3].total+"";return{c(){e=n("div"),s=n("div"),a=n("div"),o=f("Tuotteita: "),u=f(k),m=f(" kpl"),p=l(),g=n("div"),h=f("Yhteensä: "),v=f(T),w=f(" €"),$=l(),b=n("a"),b.textContent="Kassalle",i(a,"id","cartAmount"),i(g,"id","cartAmount"),i(b,"class","grid svelte-1443w6s"),i(b,"href","/kassa"),i(b,"rel","nofollow"),i(e,"id","cart"),i(e,"class","grid svelte-1443w6s")},m(t,n){c(t,e,n),r(e,s),r(s,a),r(a,o),r(a,u),r(a,m),r(s,p),r(s,g),r(g,h),r(g,v),r(g,w),r(e,$),r(e,b)},p(t,e){8&e&&k!==(k=t[3].amount+"")&&y(u,k),8&e&&T!==(T=t[3].total+"")&&y(v,T)},d(t){t&&d(e)}}}function U(t){let e,s,a=t[1]&&t[1].site&&X(t);return{c(){a&&a.c(),e=p()},m(t,n){a&&a.m(t,n),c(t,e,n),s=!0},p(t,[s]){t[1]&&t[1].site?a?(a.p(t,s),2&s&&b(a,1)):(a=X(t),a.c(),b(a,1),a.m(e.parentNode,e)):a&&(H(),k(a,1,1,(()=>{a=null})),x())},i(t){s||(b(a),s=!0)},o(t){k(a),s=!1},d(t){a&&a.d(t),t&&d(e)}}}function V(t,e,s){let a,n,l,i,o,c;L(t,K,(t=>s(8,a=t))),L(t,O,(t=>s(0,n=t))),L(t,E,(t=>s(1,l=t))),L(t,A,(t=>s(2,i=t))),L(t,z,(t=>s(3,o=t))),L(t,B,(t=>s(4,c=t)));let{$$slots:r={},$$scope:u}=e;return window&&(A.useLocalStorage(),E.useLocalStorage(),z.useLocalStorage()),M((async()=>{const t=await fetch(a);E.set(await t.json())})),t.$$set=t=>{"$$scope"in t&&s(5,u=t.$$scope)},t.$$.update=()=>{if(7&t.$$.dirty&&n&&(l.site||i.title)&&(N.title=n.cat?i.title+" | "+l.site.title:l.site.title+" | "+l.site.slogan,(A.summary||l.site.summary)&&(N.summary=i.summary?i.summary:l.site.summary)),8&t.$$.dirty&&o.products){let t=[0,0];S(z,o.products=o.products.filter(((t,e)=>t.amount>0&&null!=t)).sort(),o),Object.values(o.products).forEach((e=>{e.discounts&&(e.price2=e.price,e.discounts.forEach((function(t){t.amount<=e.amount&&(e.price2=t.price)}))),t[0]+=e.total=e.price2*e.amount,t[1]+=e.amount})),0==t[1]||null==t[1]?S(z,o.products=[],o):(S(z,o.total=t[0],o),S(z,o.amount=t[1],o))}},[n,l,i,o,c,u,r]}export default class extends t{constructor(t){super(),e(this,t,V,U,s,{})}}
//# sourceMappingURL=_layout-93bfe846.js.map
