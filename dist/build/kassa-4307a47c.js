import{S as t,i as e,s as n,e as s,b as l,c as a,f as o,a as i,o as c,d as u,n as r,g as d,v as m,C as p,t as h,h as f,l as b,j as v,k as x,r as y,D as w,m as g}from"./main.js";import{c as k,d as T}from"./store-30b44191.js";import{p as C}from"./fetch-d9c99915.js";function F(t,e,n){const s=t.slice();return s[14]=e[n],s[15]=e,s[16]=n,s}function N(t,e,n){const s=t.slice();return s[14]=e[n],s[17]=e,s[18]=n,s}function j(t){let e;function n(t,e){return 0==t[3]?M:L}let i=n(t),c=i(t);return{c(){e=s("div"),c.c(),l(e,"id","checkout"),l(e,"class","container rel svelte-1w4bou7")},m(t,n){a(t,e,n),c.m(e,null)},p(t,s){i===(i=n(t))&&c?c.p(t,s):(c.d(1),c=i(t),c&&(c.c(),c.m(e,null)))},d(t){t&&o(e),c.d()}}}function L(t){let e,n,l;function u(t,e){return"number"!=typeof t[3]?q:$}let r=u(t),d=r(t);return{c(){e=s("h1"),e.textContent="Kiitos tilauksesta",n=i(),d.c(),l=c()},m(t,s){a(t,e,s),a(t,n,s),d.m(t,s),a(t,l,s)},p(t,e){r===(r=u(t))&&d?d.p(t,e):(d.d(1),d=r(t),d&&(d.c(),d.m(l.parentNode,l)))},d(t){t&&o(e),t&&o(n),d.d(t),t&&o(l)}}}function M(t){let e,n,r,d,m,p,f,x,y,k,T,C,j,L,M,$,q,S,z,A,P,V,Y,B,D,E,X,G,Q,R,U,W,Z,_,tt,et,nt,st,lt,at,ot,it,ct,ut,rt,dt,mt=t[1].total.toFixed(2)+"",pt=t[5].toFixed(2)+"",ht=t[2].toFixed(2)+"",ft=t[4].body&&H(t),bt=t[1].products,vt=[];for(let e=0;e<bt.length;e+=1)vt[e]=K(N(t,bt,e));let xt=t[0].distance&&I(t),yt=t[8],wt=[];for(let e=0;e<yt.length;e+=1)wt[e]=J(F(t,yt,e));let gt=t[1].customer.street&&t[1].customer.postal&&t[1].customer.area&&O(t);return{c(){ft&&ft.c(),e=i(),n=s("div"),r=s("div"),d=s("h2"),d.textContent="Tuotteet",m=i(),p=s("table"),f=s("thead"),f.innerHTML='<tr><th class="tl svelte-1w4bou7">Tuote</th> \n\t\t\t\t\t\t\t\t<th class="tc svelte-1w4bou7">Hinta</th> \n\t\t\t\t\t\t\t\t<th class="tc svelte-1w4bou7">Määrä</th> \n\t\t\t\t\t\t\t\t<th class="tc svelte-1w4bou7">Yhteensä</th> \n\t\t\t\t\t\t\t\t<th class="svelte-1w4bou7"></th></tr>',x=i(),y=s("tbody");for(let t=0;t<vt.length;t+=1)vt[t].c();k=i(),T=s("div"),C=s("h2"),C.textContent="Maksutiedot",j=i(),L=s("table"),M=s("tbody"),$=s("tr"),q=s("td"),q.textContent="Tuotteet yhteensä",S=i(),z=s("td"),A=h(mt),P=h(" €"),V=i(),xt&&xt.c(),Y=i(),B=s("tr"),D=s("td"),D.textContent="ALV 10%",E=i(),X=s("td"),G=h(pt),Q=h(" €"),R=i(),U=s("tr"),W=s("td"),W.textContent="Tilaus yhteensä",Z=i(),_=s("td"),tt=h(ht),et=h(" €"),nt=i(),st=s("form"),lt=s("div"),at=s("h2"),at.textContent="Asiakastiedot",ot=i(),it=s("div");for(let t=0;t<wt.length;t+=1)wt[t].c();ct=i(),gt&&gt.c(),ut=c(),l(p,"id","productList"),l(p,"class","w100 svelte-1w4bou7"),l(p,"rules","rows"),l(r,"class","item"),l(q,"class","label tl"),l(z,"class","value tr"),l(D,"class","label tl"),l(X,"class","value tr"),l(W,"class","label tl"),l(_,"class","value tr"),l(L,"class","w100"),l(T,"id","paymentInfo"),l(T,"class","item"),l(n,"id","tables"),l(n,"class","grid"),l(it,"class","grid"),l(lt,"id","client"),l(lt,"class","item svelte-1w4bou7"),l(st,"class","items")},m(s,l){ft&&ft.m(s,l),a(s,e,l),a(s,n,l),u(n,r),u(r,d),u(r,m),u(r,p),u(p,f),u(p,x),u(p,y);for(let t=0;t<vt.length;t+=1)vt[t].m(y,null);u(n,k),u(n,T),u(T,C),u(T,j),u(T,L),u(L,M),u(M,$),u($,q),u($,S),u($,z),u(z,A),u(z,P),u(M,V),xt&&xt.m(M,null),u(M,Y),u(M,B),u(B,D),u(B,E),u(B,X),u(X,G),u(X,Q),u(M,R),u(M,U),u(U,W),u(U,Z),u(U,_),u(_,tt),u(_,et),a(s,nt,l),a(s,st,l),u(st,lt),u(lt,at),u(lt,ot),u(lt,it);for(let t=0;t<wt.length;t+=1)wt[t].m(it,null);a(s,ct,l),gt&&gt.m(s,l),a(s,ut,l),rt||(dt=b(st,"submit",w(t[9])),rt=!0)},p(t,n){if(t[4].body?ft?ft.p(t,n):(ft=H(t),ft.c(),ft.m(e.parentNode,e)):ft&&(ft.d(1),ft=null),130&n){let e;for(bt=t[1].products,e=0;e<bt.length;e+=1){const s=N(t,bt,e);vt[e]?vt[e].p(s,n):(vt[e]=K(s),vt[e].c(),vt[e].m(y,null))}for(;e<vt.length;e+=1)vt[e].d(1);vt.length=bt.length}if(2&n&&mt!==(mt=t[1].total.toFixed(2)+"")&&v(A,mt),t[0].distance?xt?xt.p(t,n):(xt=I(t),xt.c(),xt.m(M,Y)):xt&&(xt.d(1),xt=null),32&n&&pt!==(pt=t[5].toFixed(2)+"")&&v(G,pt),4&n&&ht!==(ht=t[2].toFixed(2)+"")&&v(tt,ht),258&n){let e;for(yt=t[8],e=0;e<yt.length;e+=1){const s=F(t,yt,e);wt[e]?wt[e].p(s,n):(wt[e]=J(s),wt[e].c(),wt[e].m(it,null))}for(;e<wt.length;e+=1)wt[e].d(1);wt.length=yt.length}t[1].customer.street&&t[1].customer.postal&&t[1].customer.area?gt?gt.p(t,n):(gt=O(t),gt.c(),gt.m(ut.parentNode,ut)):gt&&(gt.d(1),gt=null)},d(t){ft&&ft.d(t),t&&o(e),t&&o(n),g(vt,t),xt&&xt.d(),t&&o(nt),t&&o(st),g(wt,t),t&&o(ct),gt&&gt.d(t),t&&o(ut),rt=!1,dt()}}}function $(t){let e,n,l,i,c,r;return{c(){e=s("p"),n=h("Tilaus on vahvistettu ja tilaustiedot on lähetetty\n\t\t\t\t\tsähköpostiin.\n\t\t\t\t\t"),l=s("br"),i=h("\n\t\t\t\t\tTilausnumerosi on "),c=h(t[3]),r=h(".")},m(t,s){a(t,e,s),u(e,n),u(e,l),u(e,i),u(e,c),u(e,r)},p(t,e){8&e&&v(c,t[3])},d(t){t&&o(e)}}}function q(t){let e,n;return{c(){e=s("p"),n=h(t[3])},m(t,s){a(t,e,s),u(e,n)},p(t,e){8&e&&v(n,t[3])},d(t){t&&o(e)}}}function H(t){let e,n=t[4].body+"";return{c(){e=s("div"),l(e,"class","body")},m(t,s){a(t,e,s),e.innerHTML=n},p(t,s){16&s&&n!==(n=t[4].body+"")&&(e.innerHTML=n)},d(t){t&&o(e)}}}function S(t){let e,n,c,r,d,m,p,w,g,k,T,C,F,N,j,L,M,$,q,H,S,K,I,J,O,P,V,Y,B,D=t[14].title+"",E=t[14].price2.toFixed(2)+"",X=t[14].total.toFixed(2)+"",G=t[14].size&&z(t),Q=t[14].id&&A(t);function R(){t[10].call($,t[18])}function U(){return t[11](t[18])}return{c(){e=s("tr"),n=s("td"),c=s("strong"),r=h(D),d=i(),G&&G.c(),m=i(),p=s("br"),w=i(),Q&&Q.c(),g=i(),k=s("td"),T=s("span"),T.textContent="Hinta:",C=i(),F=h(E),N=i(),j=s("td"),L=s("span"),L.textContent="Määrä:",M=i(),$=s("input"),q=i(),H=s("td"),S=s("span"),S.textContent="Yhteensä:",K=i(),I=h(X),J=i(),O=s("td"),P=s("button"),P.textContent="X",V=i(),l(n,"class","product tl svelte-1w4bou7"),l(k,"class","price tc pt svelte-1w4bou7"),l($,"type","number"),l($,"name","amount"),l($,"class","svelte-1w4bou7"),l(j,"class","amount tc svelte-1w4bou7"),l(H,"class","total tc pt svelte-1w4bou7"),l(P,"class","del noBor svelte-1w4bou7"),l(O,"class","tr pt svelte-1w4bou7")},m(s,l){a(s,e,l),u(e,n),u(n,c),u(c,r),u(c,d),G&&G.m(c,null),u(n,m),u(n,p),u(n,w),Q&&Q.m(n,null),u(e,g),u(e,k),u(k,T),u(k,C),u(k,F),u(e,N),u(e,j),u(j,L),u(j,M),u(j,$),f($,t[1].products[t[18]].amount),u(e,q),u(e,H),u(H,S),u(H,K),u(H,I),u(e,J),u(e,O),u(O,P),u(e,V),Y||(B=[b($,"input",R),b(P,"click",U)],Y=!0)},p(e,s){t=e,2&s&&D!==(D=t[14].title+"")&&v(r,D),t[14].size?G?G.p(t,s):(G=z(t),G.c(),G.m(c,null)):G&&(G.d(1),G=null),t[14].id?Q?Q.p(t,s):(Q=A(t),Q.c(),Q.m(n,null)):Q&&(Q.d(1),Q=null),2&s&&E!==(E=t[14].price2.toFixed(2)+"")&&v(F,E),2&s&&x($.value)!==t[1].products[t[18]].amount&&f($,t[1].products[t[18]].amount),2&s&&X!==(X=t[14].total.toFixed(2)+"")&&v(I,X)},d(t){t&&o(e),G&&G.d(),Q&&Q.d(),Y=!1,y(B)}}}function z(t){let e,n,s=t[14].size+"";return{c(){e=h("- "),n=h(s)},m(t,s){a(t,e,s),a(t,n,s)},p(t,e){2&e&&s!==(s=t[14].size+"")&&v(n,s)},d(t){t&&o(e),t&&o(n)}}}function A(t){let e,n,l=t[14].id+"";return{c(){e=s("small"),n=h(l)},m(t,s){a(t,e,s),u(e,n)},p(t,e){2&e&&l!==(l=t[14].id+"")&&v(n,l)},d(t){t&&o(e)}}}function K(t){let e,n=null!=t[14]&&S(t);return{c(){n&&n.c(),e=c()},m(t,s){n&&n.m(t,s),a(t,e,s)},p(t,s){null!=t[14]?n?n.p(t,s):(n=S(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&o(e)}}}function I(t){let e,n,c,r,d,m,p,f,b=t[0].distance.text+"",x=t[0].price.toFixed(2)+"";return{c(){e=s("tr"),n=s("td"),c=h("Toimitus, "),r=h(b),d=i(),m=s("td"),p=h(x),f=h(" €"),l(n,"class","label tl"),l(m,"class","value tr")},m(t,s){a(t,e,s),u(e,n),u(n,c),u(n,r),u(e,d),u(e,m),u(m,p),u(m,f)},p(t,e){1&e&&b!==(b=t[0].distance.text+"")&&v(r,b),1&e&&x!==(x=t[0].price.toFixed(2)+"")&&v(p,x)},d(t){t&&o(e)}}}function J(t){let e,n,c,r,d,m,p,v,x,y=t[14].title+"";function w(){t[12].call(m,t[14])}return{c(){e=s("div"),n=s("label"),c=s("span"),r=h(y),d=i(),m=s("input"),p=i(),l(c,"class","block"),l(m,"id",t[14].name),l(m,"class","w100 svelte-1w4bou7"),l(m,"name",t[14].name),m.required=!0,l(e,"class","item")},m(s,l){a(s,e,l),u(e,n),u(n,c),u(c,r),u(n,d),u(n,m),f(m,t[1].customer[t[14].name]),u(e,p),v||(x=b(m,"input",w),v=!0)},p(e,n){t=e,258&n&&m.value!==t[1].customer[t[14].name]&&f(m,t[1].customer[t[14].name])},d(t){t&&o(e),v=!1,x()}}}function O(t){let e;function n(t,e){return t[0].distance?V:P}let i=n(t),c=i(t);return{c(){e=s("div"),c.c(),l(e,"id","payment"),l(e,"class","tc")},m(t,n){a(t,e,n),c.m(e,null)},p(t,s){i===(i=n(t))&&c?c.p(t,s):(c.d(1),c=i(t),c&&(c.c(),c.m(e,null)))},d(t){t&&o(e),c.d()}}}function P(t){let e,n,i;return{c(){e=s("button"),e.textContent="Laske tomituskulut",l(e,"id","ready"),l(e,"class","end svelte-1w4bou7"),l(e,"name","shipping")},m(s,l){a(s,e,l),n||(i=b(e,"click",t[13]),n=!0)},p:r,d(t){t&&o(e),n=!1,i()}}}function V(t){let e;return{c(){e=s("button"),e.textContent="Vahvista tilaus",l(e,"id","ready"),l(e,"class","end svelte-1w4bou7"),l(e,"name","ready"),l(e,"type","submit")},m(t,n){a(t,e,n)},p:r,d(t){t&&o(e)}}}function Y(t){let e,n,d,m=t[1].products[0]&&j(t);return{c(){e=s("meta"),n=i(),m&&m.c(),d=c(),document.title="Kassa - Tervetuloa maksamaan",l(e,"name","googlebot"),l(e,"content","noindex")},m(t,s){u(document.head,e),a(t,n,s),m&&m.m(t,s),a(t,d,s)},p(t,[e]){t[1].products[0]?m?m.p(t,e):(m=j(t),m.c(),m.m(d.parentNode,d)):m&&(m.d(1),m=null)},i:r,o:r,d(t){o(e),t&&o(n),m&&m.d(t),t&&o(d)}}}function B(t,e,n){let s,l,a,o;d(t,k,(t=>n(1,a=t))),d(t,T,(t=>n(4,o=t))),a.products[0]||window.location.replace("/"),m(k,a.customer={name1:"Timo",name2:"Anttila",street:"Testikuja 8",postal:37130,area:"Nokia",phone:"0407746121",email:"timo@tuspe.com"},a),a.customer||m(k,a.customer={name1:"Timo",name2:"Anttila",street:"Testikuja 8",postal:37130,area:"Nokia",phone:"0407746121",email:"timo@tuspe.com",distance:{},shipping:""},a),m(T,o={},o);let i=0,c={price:0};function u(t,e){C(t,e).then((t=>{t.redirect||t.message?void 0!==t.redirect?window.location.replace(t.redirect):t.message&&n(3,i=t.message):t.distance?n(0,c.distance=t.distance,c):T.set(t)}))}function r(t){m(k,a.products=a.products.filter(((e,n)=>n!==parseInt(t)&&null!=e)).sort(),a)}p((async()=>{u("path=kassa")}));let h=[{title:"Etunimi",type:"text",name:"name1",min:2,max:30,req:1},{title:"Sukunimi",type:"text",name:"name2",min:2,max:30,req:1},{title:"Puhelin",type:"text",name:"phone",min:5,max:15,req:1},{title:"Sähköposti",type:"email",name:"email",min:6,max:100,req:1},{title:"Katuosoite",type:"text",name:"street",min:5,max:50},{title:"Postinumero",type:"text",name:"postal",min:5,max:5},{title:"Kaupunki",type:"text",name:"area",min:3,max:50}];if(window.location.search){let t=window.location.search.substr(1).split("=");i="id"==t[0]?parseInt(t[1]):0}return t.$$.update=()=>{3&t.$$.dirty&&n(2,s=a.total+c.price),4&t.$$.dirty&&n(5,l=.1*s)},[c,a,s,i,o,l,u,r,h,async function(t){u("path=kassa&payment=1",{cart:JSON.stringify(a.products),delivery:JSON.stringify(c),price:s,vat:l})},function(t){a.products[t].amount=x(this.value),k.set(a)},t=>r(t),function(t){a.customer[t.name]=this.value,k.set(a),n(8,h)},()=>u("path=matka",{address:a.customer.street+"+"+a.customer.postal+"+"+a.customer.area})]}export default class extends t{constructor(t){super(),e(this,t,B,Y,n,{})}}
//# sourceMappingURL=kassa-4307a47c.js.map
