import{S as t,i as n,s as e,e as i,a as r,b as c,c as s,d as l,h as o,l as u,f as a,t as d,j as m,k as p,m as f,r as g,o as h,n as b,g as y,p as x,q as v}from"./main.js";import{d as $,a as j,c as H}from"./store-dcd02ba1.js";function L(t,n,e){const i=t.slice();return i[10]=n[e],i}function k(t){let n,e,d,m,f,h,b,y,x,v,$,j,H,L,k,M=t[2].img&&w(t),q=t[2].price&&F(t),I=t[2].body&&T(t),C=t[2].extra&&D(t);return{c(){n=i("div"),e=i("div"),M&&M.c(),d=r(),m=i("div"),q&&q.c(),f=r(),h=i("div"),b=i("div"),y=i("input"),x=r(),v=i("div"),$=i("button"),$.textContent="Lisää ostoskoriin",j=r(),I&&I.c(),H=r(),C&&C.c(),c(e,"id","img"),c(y,"name","amount"),c(y,"type","number"),c(y,"min","1"),c(y,"step","1"),y.required=!0,c($,"class","w100"),c(h,"id","cartIt"),c(h,"class","border grid"),c(m,"id","productInfo"),c(n,"id","product"),c(n,"class","container double grid")},m(i,r){s(i,n,r),l(n,e),M&&M.m(e,null),l(n,d),l(n,m),q&&q.m(m,null),l(m,f),l(m,h),l(h,b),l(b,y),o(y,t[0]),l(h,x),l(h,v),l(v,$),l(m,j),I&&I.m(m,null),l(m,H),C&&C.m(m,null),L||(k=[u(y,"input",t[6]),u($,"click",t[4])],L=!0)},p(t,n){t[2].img?M?M.p(t,n):(M=w(t),M.c(),M.m(e,null)):M&&(M.d(1),M=null),t[2].price?q?q.p(t,n):(q=F(t),q.c(),q.m(m,f)):q&&(q.d(1),q=null),1&n&&p(y.value)!==t[0]&&o(y,t[0]),t[2].body?I?I.p(t,n):(I=T(t),I.c(),I.m(m,H)):I&&(I.d(1),I=null),t[2].extra?C?C.p(t,n):(C=D(t),C.c(),C.m(m,null)):C&&(C.d(1),C=null)},d(t){t&&a(n),M&&M.d(),q&&q.d(),I&&I.d(),C&&C.d(),L=!1,g(k)}}}function w(t){let n,e,o,u,d,m,p,f,g,h;return{c(){n=i("picture"),e=i("source"),u=r(),d=i("source"),p=r(),f=i("img"),c(e,"srcset",o=t[2].img[1]),c(e,"type","image/webp"),c(d,"srcset",m=t[2].img[0]),c(d,"type","image/jpeg"),f.src!==(g=t[2].img[0])&&c(f,"src",g),c(f,"alt",h=t[2].title),c(n,"class","block")},m(t,i){s(t,n,i),l(n,e),l(n,u),l(n,d),l(n,p),l(n,f)},p(t,n){4&n&&o!==(o=t[2].img[1])&&c(e,"srcset",o),4&n&&m!==(m=t[2].img[0])&&c(d,"srcset",m),4&n&&f.src!==(g=t[2].img[0])&&c(f,"src",g),4&n&&h!==(h=t[2].title)&&c(f,"alt",h)},d(t){t&&a(n)}}}function F(t){let n,e,o,u,p,f,g=t[1].toFixed(2)+"",h=t[0]>1&&M(t);return{c(){n=i("div"),e=d("Hinta: "),o=i("strong"),u=d(g),p=d(" €"),f=r(),h&&h.c(),c(n,"id","price")},m(t,i){s(t,n,i),l(n,e),l(n,o),l(o,u),l(o,p),l(n,f),h&&h.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?h?h.p(t,e):(h=M(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&a(n),h&&h.d()}}}function M(t){let n,e,c,o,u,p,f,g=t[3].toFixed(2)+"";return{c(){n=i("br"),e=r(),c=i("small"),o=d("Yhteensä: "),u=i("strong"),p=d(g),f=d(" €")},m(t,i){s(t,n,i),s(t,e,i),s(t,c,i),l(c,o),l(c,u),l(u,p),l(u,f)},p(t,n){8&n&&g!==(g=t[3].toFixed(2)+"")&&m(p,g)},d(t){t&&a(n),t&&a(e),t&&a(c)}}}function T(t){let n,e=t[2].body+"";return{c(){n=i("div"),c(n,"id","body")},m(t,i){s(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function D(t){let n,e,r=t[2].extra,o=[];for(let n=0;n<r.length;n+=1)o[n]=q(L(t,r,n));return{c(){n=i("div"),e=i("ul");for(let t=0;t<o.length;t+=1)o[t].c();c(n,"id","extra")},m(t,i){s(t,n,i),l(n,e);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(4&n){let i;for(r=t[2].extra,i=0;i<r.length;i+=1){const c=L(t,r,i);o[i]?o[i].p(c,n):(o[i]=q(c),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&a(n),f(o,t)}}}function q(t){let n,e=t[10].name+"";return{c(){n=i("li")},m(t,i){s(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[10].name+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function I(t){let n,e=t[2]&&k(t);return{c(){e&&e.c(),n=h()},m(t,i){e&&e.m(t,i),s(t,n,i)},p(t,[i]){t[2]?e?e.p(t,i):(e=k(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:b,o:b,d(t){e&&e.d(t),t&&a(n)}}}function C(t,n,e){let i,r,c,s,l,o,u;return y(t,$,(t=>e(2,s=t))),y(t,j,(t=>e(7,l=t))),y(t,H,(t=>e(8,o=t))),y(t,x,(t=>e(5,u=t))),t.$$.update=()=>{4&t.$$.dirty&&e(1,r=s.price),32&t.$$.dirty&&u.slug&&async function(t){try{let n=await fetch(l+"?path="+t);$.set(await n.json())}catch(t){console.error(t)}}(u.slug),7&t.$$.dirty&&s&&i&&(s.amountDiscounts&&(e(1,r=s.price),s.amountDiscounts.forEach((function(t){t.amount<=i&&e(1,r=t.price)}))),e(3,c=r*i))},e(0,i=1),e(3,c=0),[i,r,s,c,function(){let t={id:s.id,title:s.title,price:s.price,price2:r,amount:i,total:c,discounts:s.amountDiscounts};v(H,o.price+=r,o),v(H,o.total+=c,o),v(H,o.amount+=i,o),o.products.push(t)},u,function(){i=p(this.value),e(0,i)}]}export default class extends t{constructor(t){super(),n(this,t,C,I,e,{})}}
//# sourceMappingURL=[slug]-ee7bdcf0.js.map
