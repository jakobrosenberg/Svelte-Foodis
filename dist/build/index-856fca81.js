import{S as t,i as n,s as e,e as i,a as r,b as s,c,d as l,h as o,l as u,f as a,t as d,j as m,k as p,m as f,r as g,o as h,n as v,g as b,p as x,q as y,v as $}from"./main.js";import{d as D,c as j}from"./store-de3c9fe4.js";import{p as w}from"./fetch-c1b3b3cf.js";function H(t,n,e){const i=t.slice();return i[11]=n[e],i}function L(t){let n,e,d,m,f,h,v,b,x,y,$,D,j,w,H,L=t[2].img&&k(t),M=t[2].price&&F(t),I=t[2].body&&T(t),C=t[2].extra&&q(t);return{c(){n=i("div"),e=i("div"),L&&L.c(),d=r(),m=i("div"),M&&M.c(),f=r(),h=i("div"),v=i("div"),b=i("input"),x=r(),y=i("div"),$=i("button"),$.textContent="Lisää ostoskoriin",D=r(),I&&I.c(),j=r(),C&&C.c(),s(e,"id","img"),s(b,"name","amount"),s(b,"type","number"),s(b,"min",t[3]),s(b,"step","1"),b.required=!0,s(b,"class","svelte-4nnwr5"),s($,"class","w100 svelte-4nnwr5"),s(h,"id","cartIt"),s(h,"class","border grid svelte-4nnwr5"),s(m,"id","productInfo"),s(n,"id","product"),s(n,"class","container double grid")},m(i,r){c(i,n,r),l(n,e),L&&L.m(e,null),l(n,d),l(n,m),M&&M.m(m,null),l(m,f),l(m,h),l(h,v),l(v,b),o(b,t[0]),l(h,x),l(h,y),l(y,$),l(m,D),I&&I.m(m,null),l(m,j),C&&C.m(m,null),w||(H=[u(b,"input",t[7]),u($,"click",t[5])],w=!0)},p(t,n){t[2].img?L?L.p(t,n):(L=k(t),L.c(),L.m(e,null)):L&&(L.d(1),L=null),t[2].price?M?M.p(t,n):(M=F(t),M.c(),M.m(m,f)):M&&(M.d(1),M=null),8&n&&s(b,"min",t[3]),1&n&&p(b.value)!==t[0]&&o(b,t[0]),t[2].body?I?I.p(t,n):(I=T(t),I.c(),I.m(m,j)):I&&(I.d(1),I=null),t[2].extra?C?C.p(t,n):(C=q(t),C.c(),C.m(m,null)):C&&(C.d(1),C=null)},d(t){t&&a(n),L&&L.d(),M&&M.d(),I&&I.d(),C&&C.d(),w=!1,g(H)}}}function k(t){let n,e,o,u,d,m,p,f,g,h;return{c(){n=i("picture"),e=i("source"),u=r(),d=i("source"),p=r(),f=i("img"),s(e,"srcset",o=t[2].img[1]),s(e,"type","image/webp"),s(d,"srcset",m=t[2].img[0]),s(d,"type","image/jpeg"),f.src!==(g=t[2].img[0])&&s(f,"src",g),s(f,"alt",h=t[2].title),s(n,"class","block")},m(t,i){c(t,n,i),l(n,e),l(n,u),l(n,d),l(n,p),l(n,f)},p(t,n){4&n&&o!==(o=t[2].img[1])&&s(e,"srcset",o),4&n&&m!==(m=t[2].img[0])&&s(d,"srcset",m),4&n&&f.src!==(g=t[2].img[0])&&s(f,"src",g),4&n&&h!==(h=t[2].title)&&s(f,"alt",h)},d(t){t&&a(n)}}}function F(t){let n,e,o,u,p,f,g=t[1].toFixed(2)+"",h=t[0]>1&&M(t);return{c(){n=i("div"),e=d("Hinta: "),o=i("strong"),u=d(g),p=d(" €"),f=r(),h&&h.c(),s(n,"id","price")},m(t,i){c(t,n,i),l(n,e),l(n,o),l(o,u),l(o,p),l(n,f),h&&h.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?h?h.p(t,e):(h=M(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},d(t){t&&a(n),h&&h.d()}}}function M(t){let n,e,s,o,u,p,f,g=t[4].toFixed(2)+"";return{c(){n=i("br"),e=r(),s=i("small"),o=d("Yhteensä: "),u=i("strong"),p=d(g),f=d(" €")},m(t,i){c(t,n,i),c(t,e,i),c(t,s,i),l(s,o),l(s,u),l(u,p),l(u,f)},p(t,n){16&n&&g!==(g=t[4].toFixed(2)+"")&&m(p,g)},d(t){t&&a(n),t&&a(e),t&&a(s)}}}function T(t){let n,e=t[2].body+"";return{c(){n=i("div"),s(n,"id","body")},m(t,i){c(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function q(t){let n,e,r=t[2].extra,o=[];for(let n=0;n<r.length;n+=1)o[n]=I(H(t,r,n));return{c(){n=i("div"),e=i("ul");for(let t=0;t<o.length;t+=1)o[t].c();s(n,"id","extra")},m(t,i){c(t,n,i),l(n,e);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(4&n){let i;for(r=t[2].extra,i=0;i<r.length;i+=1){const s=H(t,r,i);o[i]?o[i].p(s,n):(o[i]=I(s),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&a(n),f(o,t)}}}function I(t){let n,e=t[11].name+"";return{c(){n=i("li")},m(t,i){c(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[11].name+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function C(t){let n,e=t[2]&&L(t);return{c(){e&&e.c(),n=h()},m(t,i){e&&e.m(t,i),c(t,n,i)},p(t,[i]){t[2]?e?e.p(t,i):(e=L(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:v,o:v,d(t){e&&e.d(t),t&&a(n)}}}function E(t,n,e){let i,r,s,c,l,o,u,a;return b(t,D,(t=>e(2,l=t))),b(t,x,(t=>e(8,o=t))),b(t,j,(t=>e(9,u=t))),b(t,y,(t=>e(6,a=t))),t.$$.update=()=>{var n;4&t.$$.dirty&&e(1,s=l.price),64&t.$$.dirty&&a.slug&&(n="path="+a.slug,w(n).then((t=>{D.set(t),l.amountDiscounts&&l.amountDiscounts[0]&&e(0,i=e(3,r=l.amountDiscounts[0].amount)),o()}))),7&t.$$.dirty&&l&&i&&(l.amountDiscounts&&(e(1,s=l.price),l.amountDiscounts.forEach((function(t){t.amount<=i&&e(1,s=t.price)}))),e(4,c=s*i))},e(0,i=1),e(3,r=1),e(4,c=0),[i,s,l,r,c,function(){let t={id:l.id,title:l.title,price:l.price,price2:s,amount:i,total:c};l.amountDiscounts,$(j,u.price+=s,u),$(j,u.total+=c,u),$(j,u.amount+=i,u),u.products.push(t)},a,function(){i=p(this.value),e(0,i)}]}export default class extends t{constructor(t){super(),n(this,t,E,C,e,{})}}
//# sourceMappingURL=index-856fca81.js.map
