import{S as t,i as n,s as e,e as i,a as r,b as c,c as s,d as l,h as o,l as u,f as a,t as d,j as m,k as p,m as f,r as g,o as b,n as h,g as v,p as x,q as y,v as $}from"./main.js";import{d as D,c as j}from"./store-95cd318b.js";import{p as H}from"./fetch-c1b3b3cf.js";function L(t,n,e){const i=t.slice();return i[11]=n[e],i}function k(t){let n,e,d,m,f,b,h,v,x,y,$,D,j,H,L,k=t[2].img&&F(t),T=t[2].price&&M(t),I=t[2].body&&q(t),C=t[2].extra&&w(t);return{c(){n=i("div"),e=i("div"),k&&k.c(),d=r(),m=i("div"),T&&T.c(),f=r(),b=i("div"),h=i("div"),v=i("input"),x=r(),y=i("div"),$=i("button"),$.textContent="Lisää ostoskoriin",D=r(),I&&I.c(),j=r(),C&&C.c(),c(e,"id","img"),c(v,"name","amount"),c(v,"type","number"),c(v,"min",t[3]),c(v,"step","1"),v.required=!0,c($,"class","w100"),c(b,"id","cartIt"),c(b,"class","border grid"),c(m,"id","productInfo"),c(n,"id","product"),c(n,"class","container double grid")},m(i,r){s(i,n,r),l(n,e),k&&k.m(e,null),l(n,d),l(n,m),T&&T.m(m,null),l(m,f),l(m,b),l(b,h),l(h,v),o(v,t[0]),l(b,x),l(b,y),l(y,$),l(m,D),I&&I.m(m,null),l(m,j),C&&C.m(m,null),H||(L=[u(v,"input",t[7]),u($,"click",t[5])],H=!0)},p(t,n){t[2].img?k?k.p(t,n):(k=F(t),k.c(),k.m(e,null)):k&&(k.d(1),k=null),t[2].price?T?T.p(t,n):(T=M(t),T.c(),T.m(m,f)):T&&(T.d(1),T=null),8&n&&c(v,"min",t[3]),1&n&&p(v.value)!==t[0]&&o(v,t[0]),t[2].body?I?I.p(t,n):(I=q(t),I.c(),I.m(m,j)):I&&(I.d(1),I=null),t[2].extra?C?C.p(t,n):(C=w(t),C.c(),C.m(m,null)):C&&(C.d(1),C=null)},d(t){t&&a(n),k&&k.d(),T&&T.d(),I&&I.d(),C&&C.d(),H=!1,g(L)}}}function F(t){let n,e,o,u,d,m,p,f,g,b;return{c(){n=i("picture"),e=i("source"),u=r(),d=i("source"),p=r(),f=i("img"),c(e,"srcset",o=t[2].img[1]),c(e,"type","image/webp"),c(d,"srcset",m=t[2].img[0]),c(d,"type","image/jpeg"),f.src!==(g=t[2].img[0])&&c(f,"src",g),c(f,"alt",b=t[2].title),c(n,"class","block")},m(t,i){s(t,n,i),l(n,e),l(n,u),l(n,d),l(n,p),l(n,f)},p(t,n){4&n&&o!==(o=t[2].img[1])&&c(e,"srcset",o),4&n&&m!==(m=t[2].img[0])&&c(d,"srcset",m),4&n&&f.src!==(g=t[2].img[0])&&c(f,"src",g),4&n&&b!==(b=t[2].title)&&c(f,"alt",b)},d(t){t&&a(n)}}}function M(t){let n,e,o,u,p,f,g=t[1].toFixed(2)+"",b=t[0]>1&&T(t);return{c(){n=i("div"),e=d("Hinta: "),o=i("strong"),u=d(g),p=d(" €"),f=r(),b&&b.c(),c(n,"id","price")},m(t,i){s(t,n,i),l(n,e),l(n,o),l(o,u),l(o,p),l(n,f),b&&b.m(n,null)},p(t,e){2&e&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?b?b.p(t,e):(b=T(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(t){t&&a(n),b&&b.d()}}}function T(t){let n,e,c,o,u,p,f,g=t[4].toFixed(2)+"";return{c(){n=i("br"),e=r(),c=i("small"),o=d("Yhteensä: "),u=i("strong"),p=d(g),f=d(" €")},m(t,i){s(t,n,i),s(t,e,i),s(t,c,i),l(c,o),l(c,u),l(u,p),l(u,f)},p(t,n){16&n&&g!==(g=t[4].toFixed(2)+"")&&m(p,g)},d(t){t&&a(n),t&&a(e),t&&a(c)}}}function q(t){let n,e=t[2].body+"";return{c(){n=i("div"),c(n,"id","body")},m(t,i){s(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[2].body+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function w(t){let n,e,r=t[2].extra,o=[];for(let n=0;n<r.length;n+=1)o[n]=I(L(t,r,n));return{c(){n=i("div"),e=i("ul");for(let t=0;t<o.length;t+=1)o[t].c();c(n,"id","extra")},m(t,i){s(t,n,i),l(n,e);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(4&n){let i;for(r=t[2].extra,i=0;i<r.length;i+=1){const c=L(t,r,i);o[i]?o[i].p(c,n):(o[i]=I(c),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&a(n),f(o,t)}}}function I(t){let n,e=t[11].name+"";return{c(){n=i("li")},m(t,i){s(t,n,i),n.innerHTML=e},p(t,i){4&i&&e!==(e=t[11].name+"")&&(n.innerHTML=e)},d(t){t&&a(n)}}}function C(t){let n,e=t[2]&&k(t);return{c(){e&&e.c(),n=b()},m(t,i){e&&e.m(t,i),s(t,n,i)},p(t,[i]){t[2]?e?e.p(t,i):(e=k(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:h,o:h,d(t){e&&e.d(t),t&&a(n)}}}function E(t,n,e){let i,r,c,s,l,o,u,a;return v(t,D,(t=>e(2,l=t))),v(t,x,(t=>e(8,o=t))),v(t,j,(t=>e(9,u=t))),v(t,y,(t=>e(6,a=t))),t.$$.update=()=>{var n;4&t.$$.dirty&&e(1,c=l.price),64&t.$$.dirty&&a.slug&&(n="path="+a.slug,H(n).then((t=>{D.set(t),l.amountDiscounts&&l.amountDiscounts[0]&&e(0,i=e(3,r=l.amountDiscounts[0].amount)),o()}))),7&t.$$.dirty&&l&&i&&(l.amountDiscounts&&(e(1,c=l.price),l.amountDiscounts.forEach((function(t){t.amount<=i&&e(1,c=t.price)}))),e(4,s=c*i))},e(0,i=1),e(3,r=1),e(4,s=0),[i,c,l,r,s,function(){let t={id:l.id,title:l.title,price:l.price,price2:c,amount:i,total:s};l.amountDiscounts,$(j,u.price+=c,u),$(j,u.total+=s,u),$(j,u.amount+=i,u),u.products.push(t)},a,function(){i=p(this.value),e(0,i)}]}export default class extends t{constructor(t){super(),n(this,t,E,C,e,{})}}
//# sourceMappingURL=index-7495274e.js.map
