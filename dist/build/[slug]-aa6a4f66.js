import{S as t,i as e,s as n,e as i,a as s,b as l,c,d as r,h as o,l as u,f as a,t as d,j as m,k as p,m as f,r as g,o as v,n as h,g as b,p as x,q as y}from"./main.js";import{d as w,a as $,c as j}from"./store-4721e530.js";function z(t,e,n){const i=t.slice();return i[10]=e[n],i}function H(t){let e,n,d,m,f,v,h,b,x,y,w,$,j,z,H,F=t[2].img&&L(t),D=t[2].price&&k(t),q=t[2].body&&M(t),I=t[2].extra&&T(t);return{c(){e=i("div"),n=i("div"),F&&F.c(),d=s(),m=i("div"),D&&D.c(),f=s(),v=i("div"),h=i("div"),b=i("input"),x=s(),y=i("div"),w=i("button"),w.textContent="Lisää ostoskoriin",$=s(),q&&q.c(),j=s(),I&&I.c(),l(n,"id","img"),l(b,"name","amount"),l(b,"type","number"),l(b,"min","1"),l(b,"step","1"),b.required=!0,l(w,"class","w100"),l(v,"id","cartIt"),l(v,"class","border grid svelte-8fvvzw"),l(m,"id","productInfo"),l(e,"id","product"),l(e,"class","container double grid svelte-8fvvzw")},m(i,s){c(i,e,s),r(e,n),F&&F.m(n,null),r(e,d),r(e,m),D&&D.m(m,null),r(m,f),r(m,v),r(v,h),r(h,b),o(b,t[0]),r(v,x),r(v,y),r(y,w),r(m,$),q&&q.m(m,null),r(m,j),I&&I.m(m,null),z||(H=[u(b,"input",t[6]),u(w,"click",t[4])],z=!0)},p(t,e){t[2].img?F?F.p(t,e):(F=L(t),F.c(),F.m(n,null)):F&&(F.d(1),F=null),t[2].price?D?D.p(t,e):(D=k(t),D.c(),D.m(m,f)):D&&(D.d(1),D=null),1&e&&p(b.value)!==t[0]&&o(b,t[0]),t[2].body?q?q.p(t,e):(q=M(t),q.c(),q.m(m,j)):q&&(q.d(1),q=null),t[2].extra?I?I.p(t,e):(I=T(t),I.c(),I.m(m,null)):I&&(I.d(1),I=null)},d(t){t&&a(e),F&&F.d(),D&&D.d(),q&&q.d(),I&&I.d(),z=!1,g(H)}}}function L(t){let e,n,o,u,d,m,p,f,g,v;return{c(){e=i("picture"),n=i("source"),u=s(),d=i("source"),p=s(),f=i("img"),l(n,"srcset",o=t[2].img[1]),l(n,"type","image/webp"),l(d,"srcset",m=t[2].img[0]),l(d,"type","image/jpeg"),f.src!==(g=t[2].img[0])&&l(f,"src",g),l(f,"alt",v=t[2].title),l(e,"class","block")},m(t,i){c(t,e,i),r(e,n),r(e,u),r(e,d),r(e,p),r(e,f)},p(t,e){4&e&&o!==(o=t[2].img[1])&&l(n,"srcset",o),4&e&&m!==(m=t[2].img[0])&&l(d,"srcset",m),4&e&&f.src!==(g=t[2].img[0])&&l(f,"src",g),4&e&&v!==(v=t[2].title)&&l(f,"alt",v)},d(t){t&&a(e)}}}function k(t){let e,n,o,u,p,f,g=t[1].toFixed(2)+"",v=t[0]>1&&F(t);return{c(){e=i("div"),n=d("Hinta: "),o=i("strong"),u=d(g),p=d(" €"),f=s(),v&&v.c(),l(e,"id","price"),l(e,"class","svelte-8fvvzw")},m(t,i){c(t,e,i),r(e,n),r(e,o),r(o,u),r(o,p),r(e,f),v&&v.m(e,null)},p(t,n){2&n&&g!==(g=t[1].toFixed(2)+"")&&m(u,g),t[0]>1?v?v.p(t,n):(v=F(t),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},d(t){t&&a(e),v&&v.d()}}}function F(t){let e,n,l,o,u,p,f,g=t[3].toFixed(2)+"";return{c(){e=i("br"),n=s(),l=i("small"),o=d("Yhteensä: "),u=i("strong"),p=d(g),f=d(" €")},m(t,i){c(t,e,i),c(t,n,i),c(t,l,i),r(l,o),r(l,u),r(u,p),r(u,f)},p(t,e){8&e&&g!==(g=t[3].toFixed(2)+"")&&m(p,g)},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function M(t){let e,n=t[2].body+"";return{c(){e=i("div"),l(e,"id","body")},m(t,i){c(t,e,i),e.innerHTML=n},p(t,i){4&i&&n!==(n=t[2].body+"")&&(e.innerHTML=n)},d(t){t&&a(e)}}}function T(t){let e,n,s=t[2].extra,o=[];for(let e=0;e<s.length;e+=1)o[e]=D(z(t,s,e));return{c(){e=i("div"),n=i("ul");for(let t=0;t<o.length;t+=1)o[t].c();l(n,"class","svelte-8fvvzw"),l(e,"id","extra"),l(e,"class","svelte-8fvvzw")},m(t,i){c(t,e,i),r(e,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,e){if(4&e){let i;for(s=t[2].extra,i=0;i<s.length;i+=1){const l=z(t,s,i);o[i]?o[i].p(l,e):(o[i]=D(l),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d(t){t&&a(e),f(o,t)}}}function D(t){let e,n=t[10].name+"";return{c(){e=i("li")},m(t,i){c(t,e,i),e.innerHTML=n},p(t,i){4&i&&n!==(n=t[10].name+"")&&(e.innerHTML=n)},d(t){t&&a(e)}}}function q(t){let e,n=t[2]&&H(t);return{c(){n&&n.c(),e=v()},m(t,i){n&&n.m(t,i),c(t,e,i)},p(t,[i]){t[2]?n?n.p(t,i):(n=H(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:h,o:h,d(t){n&&n.d(t),t&&a(e)}}}function I(t,e,n){let i,s,l,c,r,o,u;return b(t,w,(t=>n(2,c=t))),b(t,$,(t=>n(7,r=t))),b(t,j,(t=>n(8,o=t))),b(t,x,(t=>n(5,u=t))),t.$$.update=()=>{4&t.$$.dirty&&n(1,s=c.price),32&t.$$.dirty&&u.slug&&async function(t){let e=await fetch(r+"?path="+t);w.set(await e.json())}(u.slug),7&t.$$.dirty&&c&&i&&(c.amountDiscounts&&(n(1,s=c.price),c.amountDiscounts.forEach((function(t){t.amount<=i&&n(1,s=t.price)}))),n(3,l=s*i))},n(0,i=1),n(3,l=0),[i,s,c,l,function(){let t={id:c.id,title:c.title,price:c.price,price2:s,amount:i,total:l,discounts:c.amountDiscounts};y(j,o.price+=s,o),y(j,o.total+=l,o),y(j,o.amount+=i,o),o.products.push(t)},u,function(){i=p(this.value),n(0,i)}]}export default class extends t{constructor(t){super(),e(this,t,I,q,n,{})}}
//# sourceMappingURL=[slug]-aa6a4f66.js.map
